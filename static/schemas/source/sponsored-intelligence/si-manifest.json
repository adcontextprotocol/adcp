{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/sponsored-intelligence/si-manifest.json",
  "title": "SI Manifest",
  "description": "Brand's declaration of SI endpoint capabilities. Published at .well-known/si-manifest.json or synced via media buy.",
  "type": "object",
  "properties": {
    "endpoint": {
      "type": "object",
      "description": "Agent endpoint configuration with support for multiple transports",
      "properties": {
        "transports": {
          "type": "array",
          "description": "Available protocol transports. Brands can declare multiple transports; hosts select based on their capabilities.",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["mcp", "a2a"],
                "description": "Protocol transport type - MCP for direct tool integration, A2A for agent-to-agent"
              },
              "url": {
                "type": "string",
                "format": "uri",
                "description": "Agent endpoint URL for this transport"
              }
            },
            "required": ["type", "url"],
            "additionalProperties": true
          },
          "minItems": 1
        },
        "preferred": {
          "type": "string",
          "enum": ["mcp", "a2a"],
          "description": "Preferred transport type when host supports multiple options"
        }
      },
      "required": ["transports"],
      "additionalProperties": true
    },
    "capabilities": {
      "$ref": "/schemas/sponsored-intelligence/si-capabilities.json"
    },
    "brand_manifest_url": {
      "type": "string",
      "format": "uri",
      "description": "URL to brand manifest with colors, fonts, logos, tone"
    }
  },
  "required": ["endpoint", "capabilities"],
  "additionalProperties": true
}
