{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/content-standards/get-content-standards-response.json",
  "title": "Get Content Standards Response",
  "description": "Response payload with content safety policies",
  "type": "object",
  "oneOf": [
    {
      "type": "object",
      "description": "Success response",
      "properties": {
        "standards_id": {
          "type": "string",
          "description": "Identifier for this standards configuration"
        },
        "version": {
          "type": "string",
          "description": "Version of this standards configuration"
        },
        "effective_date": {
          "type": "string",
          "format": "date-time",
          "description": "When this version became effective"
        },
        "scope": {
          "type": "object",
          "description": "What this standards configuration applies to",
          "properties": {
            "brand_ids": {
              "type": "array",
              "items": { "type": "string" },
              "description": "Brand identifiers as defined in the Brand Manifest"
            },
            "countries_all": {
              "type": "array",
              "items": { "type": "string" },
              "description": "ISO 3166-1 alpha-2 country codes - standards must apply in ALL listed countries"
            },
            "channels_any": {
              "type": "array",
              "items": { "type": "string" },
              "description": "Advertising channels - standards apply to ANY of the listed channels"
            },
            "description": {
              "type": "string",
              "description": "Human-readable scope description"
            }
          }
        },
        "policy": {
          "type": "string",
          "description": "Natural language policy describing acceptable and unacceptable content contexts"
        },
        "examples": {
          "type": "object",
          "description": "Training set examples to calibrate policy interpretation",
          "properties": {
            "acceptable": {
              "type": "array",
              "items": { "$ref": "/schemas/content-standards/content-example.json" },
              "description": "Content contexts that are acceptable"
            },
            "unacceptable": {
              "type": "array",
              "items": { "$ref": "/schemas/content-standards/content-example.json" },
              "description": "Content contexts that are unacceptable"
            }
          }
        },
        "competitive_separation": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Competitor brands to avoid adjacency with"
        },
        "floor": {
          "type": "string",
          "enum": ["garm_floor", "custom"],
          "description": "Safety floor baseline"
        },
        "errors": {
          "not": {},
          "description": "Field must not be present in success response"
        },
        "context": {
          "$ref": "/schemas/core/context.json"
        },
        "ext": {
          "$ref": "/schemas/core/ext.json"
        }
      },
      "required": ["standards_id", "version"]
    },
    {
      "type": "object",
      "description": "Error response",
      "properties": {
        "errors": {
          "type": "array",
          "items": { "$ref": "/schemas/core/error.json" }
        },
        "standards_id": {
          "not": {},
          "description": "Field must not be present in error response"
        },
        "context": {
          "$ref": "/schemas/core/context.json"
        },
        "ext": {
          "$ref": "/schemas/core/ext.json"
        }
      },
      "required": ["errors"]
    }
  ]
}
