{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/core/portfolio-ref.json",
  "title": "Portfolio Reference",
  "description": "Reference to a portfolio for use in media buys. Includes authentication for the seller to fetch creatives from the creative agent. Does not include trackers or macro values - those are embedded in the creative tags and expanded by the seller at serve time.",
  "type": "object",
  "properties": {
    "agent_url": {
      "type": "string",
      "format": "uri",
      "description": "URL of the creative agent that owns this portfolio"
    },
    "portfolio_id": {
      "type": "string",
      "description": "Unique identifier for the portfolio within the creative agent"
    },
    "authentication": {
      "type": "object",
      "description": "Authentication for seller to fetch creatives from the creative agent",
      "properties": {
        "schemes": {
          "type": "array",
          "description": "Authentication schemes supported",
          "items": {
            "$ref": "/schemas/enums/auth-scheme.json"
          },
          "minItems": 1,
          "maxItems": 1
        },
        "credentials": {
          "type": "string",
          "description": "Credentials for authentication (e.g., Bearer token)",
          "minLength": 16
        }
      },
      "required": ["schemes", "credentials"],
      "additionalProperties": false
    }
  },
  "required": ["agent_url", "portfolio_id", "authentication"],
  "additionalProperties": true
}
