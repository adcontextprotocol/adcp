{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/core/push-notification-config.json",
  "title": "Push Notification Config",
  "description": "Webhook configuration for asynchronous task notifications. If authentication is provided, AdCP enforces HMAC-SHA256 signature-based authentication.",
  "type": "object",
  "properties": {
    "url": {
      "type": "string",
      "format": "uri",
      "description": "Webhook endpoint URL for task status notifications"
    },
    "authentication": {
      "type": "object",
      "description": "HMAC-SHA256 authentication. Client generates a unique shared secret per webhook configuration. Server signs payload and includes signature in X-ADCP-Signature header.",
      "properties": {
        "schemes": {
          "type": "array",
          "description": "Must be ['HMAC-SHA256'].",
          "items": {
            "$ref": "/schemas/enums/auth-scheme.json"
          },
          "minItems": 1,
          "maxItems": 1
        },
        "credentials": {
          "type": "string",
          "description": "Client-generated shared secret. Must be unique per webhook configuration. Minimum 32 characters.",
          "minLength": 32
        }
      },
      "required": ["schemes", "credentials"],
      "additionalProperties": false
    }
  },
  "required": ["url"],
  "additionalProperties": false
}
