{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/core/push-notification-config.json",
  "title": "Push Notification Config",
  "description": "Webhook configuration for asynchronous task notifications. Supports Bearer token (server echoes back) or HMAC-SHA256 signature authentication.",
  "type": "object",
  "properties": {
    "url": {
      "type": "string",
      "format": "uri",
      "description": "Webhook endpoint URL for task status notifications"
    },
    "authentication": {
      "type": "object",
      "description": "Authentication configuration. Bearer: client provides token, server echoes in Authorization header. HMAC-SHA256: client provides secret, server signs payload with X-ADCP-Signature header.",
      "properties": {
        "schemes": {
          "type": "array",
          "description": "Authentication scheme: ['Bearer'] or ['HMAC-SHA256']",
          "items": {
            "$ref": "/schemas/enums/auth-scheme.json"
          },
          "minItems": 1,
          "maxItems": 1
        },
        "credentials": {
          "type": "string",
          "description": "For Bearer: client-provided token (JWT, random string, etc.). Server echoes in 'Authorization: Bearer <credentials>'. For HMAC-SHA256: client-generated shared secret. Must be unique per webhook configuration. Minimum 32 characters.",
          "minLength": 32
        }
      },
      "required": ["schemes", "credentials"],
      "additionalProperties": false
    }
  },
  "required": ["url"],
  "additionalProperties": false
}
