{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/media-buy/get-forecast-response.json",
  "title": "Get Forecast Response",
  "description": "Response payload for the get_forecast task",
  "oneOf": [
    {
      "title": "GetForecastSuccess",
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "const": true,
          "description": "Indicates the forecast was generated successfully"
        },
        "product_id": {
          "type": "string",
          "description": "Product ID this forecast is for. Echoed from request."
        },
        "forecast": {
          "$ref": "/schemas/core/delivery-forecast.json",
          "description": "Delivery forecast for the requested parameters."
        },
        "context": {
          "$ref": "/schemas/core/context.json"
        },
        "ext": {
          "$ref": "/schemas/core/ext.json"
        }
      },
      "required": ["success", "product_id", "forecast"],
      "additionalProperties": true
    },
    {
      "title": "GetForecastError",
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "const": false,
          "description": "Indicates the forecast request failed"
        },
        "errors": {
          "type": "array",
          "items": { "$ref": "/schemas/core/error.json" },
          "minItems": 1,
          "description": "Errors that prevented forecast generation."
        },
        "context": {
          "$ref": "/schemas/core/context.json"
        },
        "ext": {
          "$ref": "/schemas/core/ext.json"
        }
      },
      "required": ["success", "errors"],
      "additionalProperties": true
    }
  ]
}
