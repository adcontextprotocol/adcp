{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/media-buy/get-forecast-request.json",
  "title": "Get Forecast Request",
  "description": "Request parameters for the get_forecast task. Returns a delivery forecast for a specific product configuration without requiring a full get_products call. Use for iterative campaign planning, budget optimization, and forecast refresh after initial planning.",
  "type": "object",
  "properties": {
    "product_id": {
      "type": "string",
      "description": "ID of the product to forecast. From a previous get_products response."
    },
    "budget": {
      "type": "number",
      "description": "Budget to forecast delivery for, in the product's pricing currency.",
      "minimum": 0
    },
    "start_date": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Campaign start date (YYYY-MM-DD) for the forecast period."
    },
    "end_date": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Campaign end date (YYYY-MM-DD) for the forecast period."
    },
    "targeting_overlay": {
      "$ref": "/schemas/core/targeting.json",
      "description": "Optional targeting overlay to apply to the forecast. Narrowing targeting will reduce forecasted reach."
    },
    "optimization_goal": {
      "$ref": "/schemas/core/optimization-goal.json",
      "description": "Optional optimization goal. Some sellers provide goal-specific forecasts (e.g., estimated conversions at a given budget)."
    },
    "pricing_option_id": {
      "type": "string",
      "description": "Pricing option to use for the forecast. When omitted, the seller uses the product's default pricing option."
    },
    "account": {
      "$ref": "/schemas/core/account-ref.json",
      "description": "Account reference for sellers that require an account for forecasting."
    },
    "context": {
      "$ref": "/schemas/core/context.json"
    },
    "ext": {
      "$ref": "/schemas/core/ext.json"
    }
  },
  "required": [
    "product_id",
    "budget",
    "start_date",
    "end_date"
  ],
  "additionalProperties": true
}
