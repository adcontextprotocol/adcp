{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/v1/media-buy/list-creative-formats-response.json",
  "title": "List Creative Formats Response",
  "description": "Response payload for list_creative_formats task",
  "type": "object",
  "properties": {
    "adcp_version": {
      "type": "string",
      "description": "AdCP schema version used for this response",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "default": "1.6.0"
    },
    "status": {
      "$ref": "/schemas/v1/enums/task-status.json",
      "description": "Current task state",
      "default": "completed"
    },
    "format_ids": {
      "type": "array",
      "description": "Array of format IDs supported by this sales agent",
      "items": {
        "type": "string"
      }
    },
    "creative_agents": {
      "type": "array",
      "description": "Creative agents that provide format definitions and services for this sales agent",
      "items": {
        "type": "object",
        "properties": {
          "agent_url": {
            "type": "string",
            "format": "uri",
            "description": "Base URL for the creative agent (e.g., 'https://reference.adcp.org', 'https://dco.example.com')"
          },
          "agent_name": {
            "type": "string",
            "description": "Human-readable name for the creative agent"
          },
          "agent_type": {
            "type": "string",
            "enum": ["standard", "custom"],
            "description": "Type of creative agent - standard (AdCP reference) or custom (third-party)"
          },
          "format_ids": {
            "type": "array",
            "description": "Format IDs provided by this creative agent",
            "items": {
              "type": "string"
            }
          },
          "capabilities": {
            "type": "array",
            "description": "Capabilities this creative agent provides",
            "items": {
              "type": "string",
              "enum": ["validation", "assembly", "generation", "preview"]
            }
          }
        },
        "required": ["agent_url", "agent_name", "format_ids"]
      }
    },
    "formats": {
      "type": "array",
      "description": "Optional: Full format definitions. Sales agents may include this for convenience, but buyers should query creative agents directly for authoritative format details.",
      "items": {
        "$ref": "/schemas/v1/core/format.json"
      }
    },
    "errors": {
      "type": "array",
      "description": "Task-specific errors and warnings (e.g., format availability issues)",
      "items": {
        "$ref": "/schemas/v1/core/error.json"
      }
    }
  },
  "required": ["adcp_version", "format_ids", "creative_agents"],
  "additionalProperties": false
}