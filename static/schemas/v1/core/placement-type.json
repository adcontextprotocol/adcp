{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/v1/core/placement-type.json",
  "title": "Placement Type",
  "description": "Logical grouping of related formats for multi-size placements",
  "type": "object",
  "properties": {
    "placement_type_id": {
      "type": "string",
      "description": "Unique identifier for the placement type"
    },
    "name": {
      "type": "string",
      "description": "Human-readable name for the placement type"
    },
    "description": {
      "type": "string",
      "description": "Description of the placement type and its use cases"
    },
    "category": {
      "type": "string",
      "enum": ["standard", "custom", "responsive"],
      "description": "Category of placement type"
    },
    "format_groups": {
      "type": "object",
      "description": "Organized format groups with priority and context",
      "properties": {
        "primary": {
          "type": "array",
          "description": "Primary format options (highest priority)",
          "items": {"type": "string"}
        },
        "secondary": {
          "type": "array", 
          "description": "Secondary format options (fallback)",
          "items": {"type": "string"}
        },
        "responsive": {
          "type": "array",
          "description": "Formats optimized for responsive behavior",
          "items": {"type": "string"}
        }
      }
    },
    "viewport_mapping": {
      "type": "object",
      "description": "Format preferences by viewport/device type",
      "properties": {
        "desktop": {
          "type": "array",
          "items": {"type": "string"}
        },
        "tablet": {
          "type": "array",
          "items": {"type": "string"}
        },
        "mobile": {
          "type": "array", 
          "items": {"type": "string"}
        }
      }
    },
    "selection_strategy": {
      "type": "string",
      "enum": ["highest_priority", "best_fit", "optimal_fill_rate", "custom"],
      "description": "Default strategy for format selection"
    },
    "compatible_formats": {
      "type": "array",
      "description": "All formats compatible with this placement type",
      "items": {"type": "string"}
    },
    "exclusions": {
      "type": "object",
      "description": "Format exclusion rules",
      "properties": {
        "mutually_exclusive": {
          "type": "array",
          "description": "Groups of formats that cannot be used together",
          "items": {
            "type": "array",
            "items": {"type": "string"}
          }
        },
        "context_restrictions": {
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {"type": "string"}
          }
        }
      }
    }
  },
  "required": ["placement_type_id", "name", "compatible_formats"],
  "additionalProperties": false
}