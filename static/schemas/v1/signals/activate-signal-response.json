{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/v1/signals/activate-signal-response.json",
  "title": "Activate Signal Response",
  "description": "Response payload for activate_signal task",
  "type": "object",
  "properties": {
    "deployments": {
      "type": "array",
      "description": "Array of deployment results for each destination",
      "items": {
        "type": "object",
        "properties": {
          "platform": {
            "type": "string",
            "description": "Platform identifier for DSPs. Either platform or agent_url will be present."
          },
          "agent_url": {
            "type": "string",
            "format": "uri",
            "description": "URL identifying the destination agent. Either platform or agent_url will be present."
          },
          "account": {
            "type": "string",
            "description": "Account identifier if applicable"
          },
          "activation_key": {
            "$ref": "/schemas/v1/core/activation-key.json",
            "description": "The activation key to use for targeting. Only present if the authenticated caller has access to this destination."
          },
          "estimated_activation_duration_minutes": {
            "type": "number",
            "description": "Estimated time to complete activation (for async operations)",
            "minimum": 0
          },
          "deployed_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when activation completed"
          }
        },
        "oneOf": [
          {"required": ["platform"]},
          {"required": ["agent_url"]}
        ],
        "additionalProperties": false
      }
    },
    "errors": {
      "type": "array",
      "description": "Task-specific errors and warnings (e.g., activation failures, platform issues)",
      "items": {
        "$ref": "/schemas/v1/core/error.json"
      }
    }
  },
  "required": ["deployments"],
  "additionalProperties": false
}
