{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.3/bundled/creative/preview-creative-response.json",
  "title": "Preview Creative Response",
  "description": "Response containing preview links for one or more creatives. Format matches the request: single preview response for single requests, batch results for batch requests.",
  "oneOf": [
    {
      "title": "PreviewCreativeSingleResponse",
      "type": "object",
      "description": "Single preview response - each preview URL returns an HTML page that can be embedded in an iframe",
      "properties": {
        "response_type": {
          "type": "string",
          "const": "single",
          "description": "Discriminator indicating this is a single preview response"
        },
        "previews": {
          "type": "array",
          "description": "Array of preview variants. Each preview corresponds to an input set from the request. If no inputs were provided, returns a single default preview.",
          "items": {
            "type": "object",
            "properties": {
              "preview_id": {
                "type": "string",
                "description": "Unique identifier for this preview variant"
              },
              "renders": {
                "type": "array",
                "description": "Array of rendered pieces for this preview variant. Most formats render as a single piece. Companion ad formats (video + banner), multi-placement formats, and adaptive formats render as multiple pieces.",
                "items": {
                  "title": "Preview Render",
                  "description": "A single rendered piece of a creative preview with discriminated output format",
                  "oneOf": [
                    {
                      "type": "object",
                      "description": "URL-only preview format",
                      "properties": {
                        "render_id": {
                          "type": "string",
                          "description": "Unique identifier for this rendered piece within the variant"
                        },
                        "output_format": {
                          "type": "string",
                          "const": "url",
                          "description": "Discriminator indicating preview_url is provided"
                        },
                        "preview_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to an HTML page that renders this piece. Can be embedded in an iframe."
                        },
                        "role": {
                          "type": "string",
                          "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                        },
                        "dimensions": {
                          "type": "object",
                          "description": "Dimensions for this rendered piece",
                          "properties": {
                            "width": {
                              "type": "number",
                              "minimum": 0
                            },
                            "height": {
                              "type": "number",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "width",
                            "height"
                          ]
                        },
                        "embedding": {
                          "type": "object",
                          "description": "Optional security and embedding metadata for safe iframe integration",
                          "properties": {
                            "recommended_sandbox": {
                              "type": "string",
                              "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                            },
                            "requires_https": {
                              "type": "boolean",
                              "description": "Whether this output requires HTTPS for secure embedding"
                            },
                            "supports_fullscreen": {
                              "type": "boolean",
                              "description": "Whether this output supports fullscreen mode"
                            },
                            "csp_policy": {
                              "type": "string",
                              "description": "Content Security Policy requirements for embedding"
                            }
                          }
                        }
                      },
                      "required": [
                        "render_id",
                        "output_format",
                        "preview_url",
                        "role"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "type": "object",
                      "description": "HTML-only preview format",
                      "properties": {
                        "render_id": {
                          "type": "string",
                          "description": "Unique identifier for this rendered piece within the variant"
                        },
                        "output_format": {
                          "type": "string",
                          "const": "html",
                          "description": "Discriminator indicating preview_html is provided"
                        },
                        "preview_html": {
                          "type": "string",
                          "description": "Raw HTML for this rendered piece. Can be embedded directly in the page without iframe. Security warning: Only use with trusted creative agents as this bypasses iframe sandboxing."
                        },
                        "role": {
                          "type": "string",
                          "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                        },
                        "dimensions": {
                          "type": "object",
                          "description": "Dimensions for this rendered piece",
                          "properties": {
                            "width": {
                              "type": "number",
                              "minimum": 0
                            },
                            "height": {
                              "type": "number",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "width",
                            "height"
                          ]
                        },
                        "embedding": {
                          "type": "object",
                          "description": "Optional security and embedding metadata",
                          "properties": {
                            "recommended_sandbox": {
                              "type": "string",
                              "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                            },
                            "requires_https": {
                              "type": "boolean",
                              "description": "Whether this output requires HTTPS for secure embedding"
                            },
                            "supports_fullscreen": {
                              "type": "boolean",
                              "description": "Whether this output supports fullscreen mode"
                            },
                            "csp_policy": {
                              "type": "string",
                              "description": "Content Security Policy requirements for embedding"
                            }
                          }
                        }
                      },
                      "required": [
                        "render_id",
                        "output_format",
                        "preview_html",
                        "role"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "type": "object",
                      "description": "Both URL and HTML preview format",
                      "properties": {
                        "render_id": {
                          "type": "string",
                          "description": "Unique identifier for this rendered piece within the variant"
                        },
                        "output_format": {
                          "type": "string",
                          "const": "both",
                          "description": "Discriminator indicating both preview_url and preview_html are provided"
                        },
                        "preview_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to an HTML page that renders this piece. Can be embedded in an iframe."
                        },
                        "preview_html": {
                          "type": "string",
                          "description": "Raw HTML for this rendered piece. Can be embedded directly in the page without iframe. Security warning: Only use with trusted creative agents as this bypasses iframe sandboxing."
                        },
                        "role": {
                          "type": "string",
                          "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                        },
                        "dimensions": {
                          "type": "object",
                          "description": "Dimensions for this rendered piece",
                          "properties": {
                            "width": {
                              "type": "number",
                              "minimum": 0
                            },
                            "height": {
                              "type": "number",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "width",
                            "height"
                          ]
                        },
                        "embedding": {
                          "type": "object",
                          "description": "Optional security and embedding metadata for safe iframe integration",
                          "properties": {
                            "recommended_sandbox": {
                              "type": "string",
                              "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                            },
                            "requires_https": {
                              "type": "boolean",
                              "description": "Whether this output requires HTTPS for secure embedding"
                            },
                            "supports_fullscreen": {
                              "type": "boolean",
                              "description": "Whether this output supports fullscreen mode"
                            },
                            "csp_policy": {
                              "type": "string",
                              "description": "Content Security Policy requirements for embedding"
                            }
                          }
                        }
                      },
                      "required": [
                        "render_id",
                        "output_format",
                        "preview_url",
                        "preview_html",
                        "role"
                      ],
                      "additionalProperties": true
                    }
                  ]
                },
                "minItems": 1
              },
              "input": {
                "type": "object",
                "description": "The input parameters that generated this preview variant. Echoes back the request input or shows defaults used.",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Human-readable name for this variant"
                  },
                  "macros": {
                    "type": "object",
                    "description": "Macro values applied to this variant",
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "context_description": {
                    "type": "string",
                    "description": "Context description applied to this variant"
                  }
                },
                "required": [
                  "name"
                ]
              }
            },
            "required": [
              "preview_id",
              "renders",
              "input"
            ]
          },
          "minItems": 1
        },
        "interactive_url": {
          "type": "string",
          "format": "uri",
          "description": "Optional URL to an interactive testing page that shows all preview variants with controls to switch between them, modify macro values, and test different scenarios."
        },
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp when preview links expire"
        },
        "context": {
          "title": "Context Object",
          "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
          "type": "object",
          "additionalProperties": true
        },
        "ext": {
          "title": "Extension Object",
          "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
          "type": "object",
          "additionalProperties": true
        }
      },
      "required": [
        "response_type",
        "previews",
        "expires_at"
      ],
      "additionalProperties": true
    },
    {
      "title": "PreviewCreativeBatchResponse",
      "type": "object",
      "description": "Batch preview response - contains results for multiple creative requests",
      "properties": {
        "response_type": {
          "type": "string",
          "const": "batch",
          "description": "Discriminator indicating this is a batch preview response"
        },
        "results": {
          "type": "array",
          "description": "Array of preview results corresponding to each request in the same order. results[0] is the result for requests[0], results[1] for requests[1], etc. Order is guaranteed even when some requests fail. Each result contains either a successful preview response or an error.",
          "items": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "description": "Whether this preview request succeeded"
              },
              "response": {
                "type": "object",
                "description": "Preview response for successful requests",
                "properties": {
                  "previews": {
                    "type": "array",
                    "description": "Array of preview variants for this creative",
                    "items": {
                      "type": "object",
                      "properties": {
                        "preview_id": {
                          "type": "string"
                        },
                        "renders": {
                          "type": "array",
                          "items": {
                            "title": "Preview Render",
                            "description": "A single rendered piece of a creative preview with discriminated output format",
                            "oneOf": [
                              {
                                "type": "object",
                                "description": "URL-only preview format",
                                "properties": {
                                  "render_id": {
                                    "type": "string",
                                    "description": "Unique identifier for this rendered piece within the variant"
                                  },
                                  "output_format": {
                                    "type": "string",
                                    "const": "url",
                                    "description": "Discriminator indicating preview_url is provided"
                                  },
                                  "preview_url": {
                                    "type": "string",
                                    "format": "uri",
                                    "description": "URL to an HTML page that renders this piece. Can be embedded in an iframe."
                                  },
                                  "role": {
                                    "type": "string",
                                    "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                                  },
                                  "dimensions": {
                                    "type": "object",
                                    "description": "Dimensions for this rendered piece",
                                    "properties": {
                                      "width": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "height": {
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "required": [
                                      "width",
                                      "height"
                                    ]
                                  },
                                  "embedding": {
                                    "type": "object",
                                    "description": "Optional security and embedding metadata for safe iframe integration",
                                    "properties": {
                                      "recommended_sandbox": {
                                        "type": "string",
                                        "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                                      },
                                      "requires_https": {
                                        "type": "boolean",
                                        "description": "Whether this output requires HTTPS for secure embedding"
                                      },
                                      "supports_fullscreen": {
                                        "type": "boolean",
                                        "description": "Whether this output supports fullscreen mode"
                                      },
                                      "csp_policy": {
                                        "type": "string",
                                        "description": "Content Security Policy requirements for embedding"
                                      }
                                    }
                                  }
                                },
                                "required": [
                                  "render_id",
                                  "output_format",
                                  "preview_url",
                                  "role"
                                ],
                                "additionalProperties": true
                              },
                              {
                                "type": "object",
                                "description": "HTML-only preview format",
                                "properties": {
                                  "render_id": {
                                    "type": "string",
                                    "description": "Unique identifier for this rendered piece within the variant"
                                  },
                                  "output_format": {
                                    "type": "string",
                                    "const": "html",
                                    "description": "Discriminator indicating preview_html is provided"
                                  },
                                  "preview_html": {
                                    "type": "string",
                                    "description": "Raw HTML for this rendered piece. Can be embedded directly in the page without iframe. Security warning: Only use with trusted creative agents as this bypasses iframe sandboxing."
                                  },
                                  "role": {
                                    "type": "string",
                                    "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                                  },
                                  "dimensions": {
                                    "type": "object",
                                    "description": "Dimensions for this rendered piece",
                                    "properties": {
                                      "width": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "height": {
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "required": [
                                      "width",
                                      "height"
                                    ]
                                  },
                                  "embedding": {
                                    "type": "object",
                                    "description": "Optional security and embedding metadata",
                                    "properties": {
                                      "recommended_sandbox": {
                                        "type": "string",
                                        "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                                      },
                                      "requires_https": {
                                        "type": "boolean",
                                        "description": "Whether this output requires HTTPS for secure embedding"
                                      },
                                      "supports_fullscreen": {
                                        "type": "boolean",
                                        "description": "Whether this output supports fullscreen mode"
                                      },
                                      "csp_policy": {
                                        "type": "string",
                                        "description": "Content Security Policy requirements for embedding"
                                      }
                                    }
                                  }
                                },
                                "required": [
                                  "render_id",
                                  "output_format",
                                  "preview_html",
                                  "role"
                                ],
                                "additionalProperties": true
                              },
                              {
                                "type": "object",
                                "description": "Both URL and HTML preview format",
                                "properties": {
                                  "render_id": {
                                    "type": "string",
                                    "description": "Unique identifier for this rendered piece within the variant"
                                  },
                                  "output_format": {
                                    "type": "string",
                                    "const": "both",
                                    "description": "Discriminator indicating both preview_url and preview_html are provided"
                                  },
                                  "preview_url": {
                                    "type": "string",
                                    "format": "uri",
                                    "description": "URL to an HTML page that renders this piece. Can be embedded in an iframe."
                                  },
                                  "preview_html": {
                                    "type": "string",
                                    "description": "Raw HTML for this rendered piece. Can be embedded directly in the page without iframe. Security warning: Only use with trusted creative agents as this bypasses iframe sandboxing."
                                  },
                                  "role": {
                                    "type": "string",
                                    "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                                  },
                                  "dimensions": {
                                    "type": "object",
                                    "description": "Dimensions for this rendered piece",
                                    "properties": {
                                      "width": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "height": {
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "required": [
                                      "width",
                                      "height"
                                    ]
                                  },
                                  "embedding": {
                                    "type": "object",
                                    "description": "Optional security and embedding metadata for safe iframe integration",
                                    "properties": {
                                      "recommended_sandbox": {
                                        "type": "string",
                                        "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                                      },
                                      "requires_https": {
                                        "type": "boolean",
                                        "description": "Whether this output requires HTTPS for secure embedding"
                                      },
                                      "supports_fullscreen": {
                                        "type": "boolean",
                                        "description": "Whether this output supports fullscreen mode"
                                      },
                                      "csp_policy": {
                                        "type": "string",
                                        "description": "Content Security Policy requirements for embedding"
                                      }
                                    }
                                  }
                                },
                                "required": [
                                  "render_id",
                                  "output_format",
                                  "preview_url",
                                  "preview_html",
                                  "role"
                                ],
                                "additionalProperties": true
                              }
                            ]
                          },
                          "minItems": 1
                        },
                        "input": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "macros": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              }
                            },
                            "context_description": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "name"
                          ]
                        }
                      },
                      "required": [
                        "preview_id",
                        "renders",
                        "input"
                      ]
                    },
                    "minItems": 1
                  },
                  "interactive_url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "expires_at": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": [
                  "previews",
                  "expires_at"
                ]
              },
              "error": {
                "type": "object",
                "description": "Error information for failed requests",
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Error code (e.g., 'invalid_manifest', 'unsupported_format', 'missing_assets')"
                  },
                  "message": {
                    "type": "string",
                    "description": "Human-readable error message"
                  },
                  "details": {
                    "type": "object",
                    "description": "Additional error context",
                    "additionalProperties": true
                  }
                },
                "required": [
                  "code",
                  "message"
                ]
              }
            },
            "required": [
              "success"
            ],
            "oneOf": [
              {
                "title": "PreviewBatchResultSuccess",
                "properties": {
                  "success": {
                    "type": "boolean",
                    "const": true
                  }
                },
                "required": [
                  "response"
                ]
              },
              {
                "title": "PreviewBatchResultError",
                "properties": {
                  "success": {
                    "type": "boolean",
                    "const": false
                  }
                },
                "required": [
                  "error"
                ]
              }
            ]
          },
          "minItems": 1
        },
        "context": {
          "title": "Context Object",
          "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
          "type": "object",
          "additionalProperties": true
        },
        "ext": {
          "title": "Extension Object",
          "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
          "type": "object",
          "additionalProperties": true
        }
      },
      "required": [
        "response_type",
        "results"
      ],
      "additionalProperties": true
    },
    {
      "title": "PreviewCreativeVariantResponse",
      "type": "object",
      "description": "Variant preview response - shows what a specific creative variant looked like when served during delivery",
      "properties": {
        "response_type": {
          "type": "string",
          "const": "variant",
          "description": "Discriminator indicating this is a variant preview response"
        },
        "variant_id": {
          "type": "string",
          "description": "Platform-assigned variant identifier"
        },
        "creative_id": {
          "type": "string",
          "description": "Creative identifier this variant belongs to"
        },
        "previews": {
          "type": "array",
          "description": "Array of rendered pieces for this variant. Most formats render as a single piece.",
          "items": {
            "type": "object",
            "properties": {
              "preview_id": {
                "type": "string",
                "description": "Unique identifier for this preview"
              },
              "renders": {
                "type": "array",
                "description": "Rendered pieces for this variant",
                "items": {
                  "title": "Preview Render",
                  "description": "A single rendered piece of a creative preview with discriminated output format",
                  "oneOf": [
                    {
                      "type": "object",
                      "description": "URL-only preview format",
                      "properties": {
                        "render_id": {
                          "type": "string",
                          "description": "Unique identifier for this rendered piece within the variant"
                        },
                        "output_format": {
                          "type": "string",
                          "const": "url",
                          "description": "Discriminator indicating preview_url is provided"
                        },
                        "preview_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to an HTML page that renders this piece. Can be embedded in an iframe."
                        },
                        "role": {
                          "type": "string",
                          "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                        },
                        "dimensions": {
                          "type": "object",
                          "description": "Dimensions for this rendered piece",
                          "properties": {
                            "width": {
                              "type": "number",
                              "minimum": 0
                            },
                            "height": {
                              "type": "number",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "width",
                            "height"
                          ]
                        },
                        "embedding": {
                          "type": "object",
                          "description": "Optional security and embedding metadata for safe iframe integration",
                          "properties": {
                            "recommended_sandbox": {
                              "type": "string",
                              "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                            },
                            "requires_https": {
                              "type": "boolean",
                              "description": "Whether this output requires HTTPS for secure embedding"
                            },
                            "supports_fullscreen": {
                              "type": "boolean",
                              "description": "Whether this output supports fullscreen mode"
                            },
                            "csp_policy": {
                              "type": "string",
                              "description": "Content Security Policy requirements for embedding"
                            }
                          }
                        }
                      },
                      "required": [
                        "render_id",
                        "output_format",
                        "preview_url",
                        "role"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "type": "object",
                      "description": "HTML-only preview format",
                      "properties": {
                        "render_id": {
                          "type": "string",
                          "description": "Unique identifier for this rendered piece within the variant"
                        },
                        "output_format": {
                          "type": "string",
                          "const": "html",
                          "description": "Discriminator indicating preview_html is provided"
                        },
                        "preview_html": {
                          "type": "string",
                          "description": "Raw HTML for this rendered piece. Can be embedded directly in the page without iframe. Security warning: Only use with trusted creative agents as this bypasses iframe sandboxing."
                        },
                        "role": {
                          "type": "string",
                          "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                        },
                        "dimensions": {
                          "type": "object",
                          "description": "Dimensions for this rendered piece",
                          "properties": {
                            "width": {
                              "type": "number",
                              "minimum": 0
                            },
                            "height": {
                              "type": "number",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "width",
                            "height"
                          ]
                        },
                        "embedding": {
                          "type": "object",
                          "description": "Optional security and embedding metadata",
                          "properties": {
                            "recommended_sandbox": {
                              "type": "string",
                              "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                            },
                            "requires_https": {
                              "type": "boolean",
                              "description": "Whether this output requires HTTPS for secure embedding"
                            },
                            "supports_fullscreen": {
                              "type": "boolean",
                              "description": "Whether this output supports fullscreen mode"
                            },
                            "csp_policy": {
                              "type": "string",
                              "description": "Content Security Policy requirements for embedding"
                            }
                          }
                        }
                      },
                      "required": [
                        "render_id",
                        "output_format",
                        "preview_html",
                        "role"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "type": "object",
                      "description": "Both URL and HTML preview format",
                      "properties": {
                        "render_id": {
                          "type": "string",
                          "description": "Unique identifier for this rendered piece within the variant"
                        },
                        "output_format": {
                          "type": "string",
                          "const": "both",
                          "description": "Discriminator indicating both preview_url and preview_html are provided"
                        },
                        "preview_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to an HTML page that renders this piece. Can be embedded in an iframe."
                        },
                        "preview_html": {
                          "type": "string",
                          "description": "Raw HTML for this rendered piece. Can be embedded directly in the page without iframe. Security warning: Only use with trusted creative agents as this bypasses iframe sandboxing."
                        },
                        "role": {
                          "type": "string",
                          "description": "Semantic role of this rendered piece. Use 'primary' for main content, 'companion' for associated banners, descriptive strings for device variants or custom roles."
                        },
                        "dimensions": {
                          "type": "object",
                          "description": "Dimensions for this rendered piece",
                          "properties": {
                            "width": {
                              "type": "number",
                              "minimum": 0
                            },
                            "height": {
                              "type": "number",
                              "minimum": 0
                            }
                          },
                          "required": [
                            "width",
                            "height"
                          ]
                        },
                        "embedding": {
                          "type": "object",
                          "description": "Optional security and embedding metadata for safe iframe integration",
                          "properties": {
                            "recommended_sandbox": {
                              "type": "string",
                              "description": "Recommended iframe sandbox attribute value (e.g., 'allow-scripts allow-same-origin')"
                            },
                            "requires_https": {
                              "type": "boolean",
                              "description": "Whether this output requires HTTPS for secure embedding"
                            },
                            "supports_fullscreen": {
                              "type": "boolean",
                              "description": "Whether this output supports fullscreen mode"
                            },
                            "csp_policy": {
                              "type": "string",
                              "description": "Content Security Policy requirements for embedding"
                            }
                          }
                        }
                      },
                      "required": [
                        "render_id",
                        "output_format",
                        "preview_url",
                        "preview_html",
                        "role"
                      ],
                      "additionalProperties": true
                    }
                  ]
                },
                "minItems": 1
              }
            },
            "required": [
              "preview_id",
              "renders"
            ]
          },
          "minItems": 1
        },
        "manifest": {
          "title": "Creative Manifest",
          "description": "The rendered creative manifest for this variant â€” the actual output that was served, not the input assets",
          "type": "object",
          "properties": {
            "format_id": {
              "title": "Format ID",
              "description": "Format identifier this manifest is for. Can be a template format (id only) or a deterministic format (id + dimensions/duration). For dimension-specific creatives, include width/height/unit in the format_id to create a unique identifier (e.g., {id: 'display_static', width: 300, height: 250, unit: 'px'}).",
              "type": "object",
              "properties": {
                "agent_url": {
                  "type": "string",
                  "format": "uri",
                  "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
                },
                "id": {
                  "type": "string",
                  "pattern": "^[a-zA-Z0-9_-]+$",
                  "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
                },
                "width": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                },
                "height": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                },
                "duration_ms": {
                  "type": "number",
                  "minimum": 1,
                  "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
                }
              },
              "required": [
                "agent_url",
                "id"
              ],
              "additionalProperties": true,
              "dependencies": {
                "width": [
                  "height"
                ],
                "height": [
                  "width"
                ]
              }
            },
            "promoted_offering": {
              "type": "string",
              "description": "Product name or offering being advertised. Maps to promoted_offerings in create_media_buy request to associate creative with the product being promoted."
            },
            "assets": {
              "type": "object",
              "description": "Map of asset IDs to actual asset content. Each key MUST match an asset_id from the format's assets array (e.g., 'banner_image', 'clickthrough_url', 'video_file', 'vast_tag'). The asset_id is the technical identifier used to match assets to format requirements.\n\nIMPORTANT: Full validation requires format context. The format defines what type each asset_id should be. Standalone schema validation only checks structural conformance â€” each asset must match at least one valid asset type schema.",
              "patternProperties": {
                "^[a-z0-9_]+$": {
                  "anyOf": [
                    {
                      "title": "Image Asset",
                      "description": "Image asset with URL and dimensions",
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to the image asset"
                        },
                        "width": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Width in pixels"
                        },
                        "height": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Height in pixels"
                        },
                        "format": {
                          "type": "string",
                          "description": "Image file format (jpg, png, gif, webp, etc.)"
                        },
                        "alt_text": {
                          "type": "string",
                          "description": "Alternative text for accessibility",
                          "x-accessibility": true
                        }
                      },
                      "required": [
                        "url",
                        "width",
                        "height"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "Video Asset",
                      "description": "Video asset with URL and technical specifications including audio track properties",
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to the video asset"
                        },
                        "width": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Width in pixels"
                        },
                        "height": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Height in pixels"
                        },
                        "duration_ms": {
                          "type": "integer",
                          "description": "Video duration in milliseconds",
                          "minimum": 1
                        },
                        "file_size_bytes": {
                          "type": "integer",
                          "description": "File size in bytes",
                          "minimum": 1
                        },
                        "container_format": {
                          "type": "string",
                          "description": "Video container format (mp4, webm, mov, etc.)"
                        },
                        "video_codec": {
                          "type": "string",
                          "description": "Video codec used (h264, h265, vp9, av1, prores, etc.)"
                        },
                        "video_bitrate_kbps": {
                          "type": "integer",
                          "description": "Video stream bitrate in kilobits per second",
                          "minimum": 1
                        },
                        "frame_rate": {
                          "type": "string",
                          "description": "Frame rate as string to preserve precision (e.g., '23.976', '29.97', '30')"
                        },
                        "frame_rate_type": {
                          "type": "string",
                          "enum": [
                            "constant",
                            "variable"
                          ],
                          "description": "Whether the video uses constant (CFR) or variable (VFR) frame rate"
                        },
                        "scan_type": {
                          "type": "string",
                          "enum": [
                            "progressive",
                            "interlaced"
                          ],
                          "description": "Scan type of the video"
                        },
                        "color_space": {
                          "type": "string",
                          "enum": [
                            "rec709",
                            "rec2020",
                            "rec2100",
                            "srgb",
                            "dci_p3"
                          ],
                          "description": "Color space of the video"
                        },
                        "hdr_format": {
                          "type": "string",
                          "enum": [
                            "sdr",
                            "hdr10",
                            "hdr10_plus",
                            "hlg",
                            "dolby_vision"
                          ],
                          "description": "HDR format if applicable, or 'sdr' for standard dynamic range"
                        },
                        "chroma_subsampling": {
                          "type": "string",
                          "enum": [
                            "4:2:0",
                            "4:2:2",
                            "4:4:4"
                          ],
                          "description": "Chroma subsampling format"
                        },
                        "video_bit_depth": {
                          "type": "integer",
                          "enum": [
                            8,
                            10,
                            12
                          ],
                          "description": "Video bit depth"
                        },
                        "gop_interval_seconds": {
                          "type": "number",
                          "description": "GOP/keyframe interval in seconds"
                        },
                        "gop_type": {
                          "type": "string",
                          "enum": [
                            "closed",
                            "open"
                          ],
                          "description": "GOP structure type"
                        },
                        "moov_atom_position": {
                          "type": "string",
                          "enum": [
                            "start",
                            "end"
                          ],
                          "description": "Position of moov atom in MP4 container"
                        },
                        "has_audio": {
                          "type": "boolean",
                          "description": "Whether the video contains an audio track"
                        },
                        "audio_codec": {
                          "type": "string",
                          "description": "Audio codec used (aac, aac_lc, he_aac, pcm, mp3, ac3, eac3, etc.)"
                        },
                        "audio_sampling_rate_hz": {
                          "type": "integer",
                          "description": "Audio sampling rate in Hz (e.g., 44100, 48000)"
                        },
                        "audio_channels": {
                          "type": "string",
                          "enum": [
                            "mono",
                            "stereo",
                            "5.1",
                            "7.1"
                          ],
                          "description": "Audio channel configuration"
                        },
                        "audio_bit_depth": {
                          "type": "integer",
                          "enum": [
                            16,
                            24,
                            32
                          ],
                          "description": "Audio bit depth"
                        },
                        "audio_bitrate_kbps": {
                          "type": "integer",
                          "description": "Audio bitrate in kilobits per second",
                          "minimum": 1
                        },
                        "audio_loudness_lufs": {
                          "type": "number",
                          "description": "Integrated loudness in LUFS"
                        },
                        "audio_true_peak_dbfs": {
                          "type": "number",
                          "description": "True peak level in dBFS"
                        },
                        "captions_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to captions file (WebVTT, SRT, etc.)",
                          "x-accessibility": true
                        },
                        "transcript_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to text transcript of the video content",
                          "x-accessibility": true
                        },
                        "audio_description_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to audio description track for visually impaired users",
                          "x-accessibility": true
                        }
                      },
                      "required": [
                        "url",
                        "width",
                        "height"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "Audio Asset",
                      "description": "Audio asset with URL and technical specifications",
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to the audio asset"
                        },
                        "duration_ms": {
                          "type": "integer",
                          "description": "Audio duration in milliseconds",
                          "minimum": 0
                        },
                        "file_size_bytes": {
                          "type": "integer",
                          "description": "File size in bytes",
                          "minimum": 1
                        },
                        "container_format": {
                          "type": "string",
                          "description": "Audio container/file format (mp3, m4a, aac, wav, ogg, flac, etc.)"
                        },
                        "codec": {
                          "type": "string",
                          "description": "Audio codec used (aac, aac_lc, he_aac, pcm, mp3, vorbis, opus, flac, ac3, eac3, etc.)"
                        },
                        "sampling_rate_hz": {
                          "type": "integer",
                          "description": "Sampling rate in Hz (e.g., 44100, 48000, 96000)"
                        },
                        "channels": {
                          "type": "string",
                          "enum": [
                            "mono",
                            "stereo",
                            "5.1",
                            "7.1"
                          ],
                          "description": "Channel configuration"
                        },
                        "bit_depth": {
                          "type": "integer",
                          "enum": [
                            16,
                            24,
                            32
                          ],
                          "description": "Bit depth"
                        },
                        "bitrate_kbps": {
                          "type": "integer",
                          "description": "Bitrate in kilobits per second",
                          "minimum": 1
                        },
                        "loudness_lufs": {
                          "type": "number",
                          "description": "Integrated loudness in LUFS"
                        },
                        "true_peak_dbfs": {
                          "type": "number",
                          "description": "True peak level in dBFS"
                        },
                        "transcript_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL to text transcript of the audio content",
                          "x-accessibility": true
                        }
                      },
                      "required": [
                        "url"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "VAST Asset",
                      "description": "VAST (Video Ad Serving Template) tag for third-party video ad serving",
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "delivery_type": {
                              "type": "string",
                              "const": "url",
                              "description": "Discriminator indicating VAST is delivered via URL endpoint"
                            },
                            "url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL endpoint that returns VAST XML"
                            },
                            "vast_version": {
                              "title": "VAST Version",
                              "description": "VAST specification version",
                              "type": "string",
                              "enum": [
                                "2.0",
                                "3.0",
                                "4.0",
                                "4.1",
                                "4.2"
                              ]
                            },
                            "vpaid_enabled": {
                              "type": "boolean",
                              "description": "Whether VPAID (Video Player-Ad Interface Definition) is supported"
                            },
                            "duration_ms": {
                              "type": "integer",
                              "description": "Expected video duration in milliseconds (if known)",
                              "minimum": 0
                            },
                            "tracking_events": {
                              "type": "array",
                              "items": {
                                "title": "VAST Tracking Event",
                                "description": "Standard VAST tracking events for video ad playback and interaction",
                                "type": "string",
                                "enum": [
                                  "start",
                                  "firstQuartile",
                                  "midpoint",
                                  "thirdQuartile",
                                  "complete",
                                  "impression",
                                  "click",
                                  "pause",
                                  "resume",
                                  "skip",
                                  "mute",
                                  "unmute",
                                  "fullscreen",
                                  "exitFullscreen",
                                  "playerExpand",
                                  "playerCollapse"
                                ]
                              },
                              "description": "Tracking events supported by this VAST tag"
                            },
                            "captions_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to captions file (WebVTT, SRT, etc.)",
                              "x-accessibility": true
                            },
                            "audio_description_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to audio description track for visually impaired users",
                              "x-accessibility": true
                            }
                          },
                          "required": [
                            "delivery_type",
                            "url"
                          ],
                          "additionalProperties": true
                        },
                        {
                          "type": "object",
                          "properties": {
                            "delivery_type": {
                              "type": "string",
                              "const": "inline",
                              "description": "Discriminator indicating VAST is delivered as inline XML content"
                            },
                            "content": {
                              "type": "string",
                              "description": "Inline VAST XML content"
                            },
                            "vast_version": {
                              "title": "VAST Version",
                              "description": "VAST specification version",
                              "type": "string",
                              "enum": [
                                "2.0",
                                "3.0",
                                "4.0",
                                "4.1",
                                "4.2"
                              ]
                            },
                            "vpaid_enabled": {
                              "type": "boolean",
                              "description": "Whether VPAID (Video Player-Ad Interface Definition) is supported"
                            },
                            "duration_ms": {
                              "type": "integer",
                              "description": "Expected video duration in milliseconds (if known)",
                              "minimum": 0
                            },
                            "tracking_events": {
                              "type": "array",
                              "items": {
                                "title": "VAST Tracking Event",
                                "description": "Standard VAST tracking events for video ad playback and interaction",
                                "type": "string",
                                "enum": [
                                  "start",
                                  "firstQuartile",
                                  "midpoint",
                                  "thirdQuartile",
                                  "complete",
                                  "impression",
                                  "click",
                                  "pause",
                                  "resume",
                                  "skip",
                                  "mute",
                                  "unmute",
                                  "fullscreen",
                                  "exitFullscreen",
                                  "playerExpand",
                                  "playerCollapse"
                                ]
                              },
                              "description": "Tracking events supported by this VAST tag"
                            },
                            "captions_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to captions file (WebVTT, SRT, etc.)",
                              "x-accessibility": true
                            },
                            "audio_description_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to audio description track for visually impaired users",
                              "x-accessibility": true
                            }
                          },
                          "required": [
                            "delivery_type",
                            "content"
                          ],
                          "additionalProperties": true
                        }
                      ]
                    },
                    {
                      "title": "Text Asset",
                      "description": "Text content asset",
                      "type": "object",
                      "properties": {
                        "content": {
                          "type": "string",
                          "description": "Text content"
                        },
                        "language": {
                          "type": "string",
                          "description": "Language code (e.g., 'en', 'es', 'fr')"
                        }
                      },
                      "required": [
                        "content"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "URL Asset",
                      "description": "URL reference asset",
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "URL reference"
                        },
                        "url_type": {
                          "title": "URL Asset Type",
                          "description": "Type of URL asset: 'clickthrough' for user click destination (landing page), 'tracker_pixel' for impression/event tracking via HTTP request (fires GET, expects pixel/204 response), 'tracker_script' for measurement SDKs that must load as <script> tag (OMID verification, native event trackers using method:2)",
                          "type": "string",
                          "enum": [
                            "clickthrough",
                            "tracker_pixel",
                            "tracker_script"
                          ]
                        },
                        "description": {
                          "type": "string",
                          "description": "Description of what this URL points to"
                        }
                      },
                      "required": [
                        "url"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "HTML Asset",
                      "description": "HTML content asset",
                      "type": "object",
                      "properties": {
                        "content": {
                          "type": "string",
                          "description": "HTML content"
                        },
                        "version": {
                          "type": "string",
                          "description": "HTML version (e.g., 'HTML5')"
                        },
                        "accessibility": {
                          "type": "object",
                          "description": "Self-declared accessibility properties for this opaque creative",
                          "x-accessibility": true,
                          "properties": {
                            "alt_text": {
                              "type": "string",
                              "description": "Text alternative describing the creative content"
                            },
                            "keyboard_navigable": {
                              "type": "boolean",
                              "description": "Whether the creative can be fully operated via keyboard"
                            },
                            "motion_control": {
                              "type": "boolean",
                              "description": "Whether the creative respects prefers-reduced-motion or provides pause/stop controls"
                            },
                            "screen_reader_tested": {
                              "type": "boolean",
                              "description": "Whether the creative has been tested with screen readers"
                            }
                          }
                        }
                      },
                      "required": [
                        "content"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "JavaScript Asset",
                      "description": "JavaScript code asset",
                      "type": "object",
                      "properties": {
                        "content": {
                          "type": "string",
                          "description": "JavaScript content"
                        },
                        "module_type": {
                          "title": "JavaScript Module Type",
                          "description": "JavaScript module type",
                          "type": "string",
                          "enum": [
                            "esm",
                            "commonjs",
                            "script"
                          ]
                        },
                        "accessibility": {
                          "type": "object",
                          "description": "Self-declared accessibility properties for this opaque creative",
                          "x-accessibility": true,
                          "properties": {
                            "alt_text": {
                              "type": "string",
                              "description": "Text alternative describing the creative content"
                            },
                            "keyboard_navigable": {
                              "type": "boolean",
                              "description": "Whether the creative can be fully operated via keyboard"
                            },
                            "motion_control": {
                              "type": "boolean",
                              "description": "Whether the creative respects prefers-reduced-motion or provides pause/stop controls"
                            },
                            "screen_reader_tested": {
                              "type": "boolean",
                              "description": "Whether the creative has been tested with screen readers"
                            }
                          }
                        }
                      },
                      "required": [
                        "content"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "Webhook Asset",
                      "description": "Webhook for server-side dynamic content rendering (DCO)",
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "description": "Webhook URL to call for dynamic content"
                        },
                        "method": {
                          "title": "HTTP Method",
                          "description": "HTTP method",
                          "type": "string",
                          "enum": [
                            "GET",
                            "POST"
                          ],
                          "default": "POST"
                        },
                        "timeout_ms": {
                          "type": "integer",
                          "minimum": 10,
                          "maximum": 5000,
                          "default": 500,
                          "description": "Maximum time to wait for response in milliseconds"
                        },
                        "supported_macros": {
                          "type": "array",
                          "items": {
                            "oneOf": [
                              {
                                "title": "Universal Macro",
                                "description": "Standardized macro placeholders for dynamic value substitution in creative tracking URLs. Macros are replaced with actual values at impression time. See docs/creative/universal-macros.mdx for detailed documentation.",
                                "type": "string",
                                "enum": [
                                  "MEDIA_BUY_ID",
                                  "PACKAGE_ID",
                                  "CREATIVE_ID",
                                  "CACHEBUSTER",
                                  "TIMESTAMP",
                                  "CLICK_URL",
                                  "GDPR",
                                  "GDPR_CONSENT",
                                  "US_PRIVACY",
                                  "GPP_STRING",
                                  "GPP_SID",
                                  "IP_ADDRESS",
                                  "LIMIT_AD_TRACKING",
                                  "DEVICE_TYPE",
                                  "OS",
                                  "OS_VERSION",
                                  "DEVICE_MAKE",
                                  "DEVICE_MODEL",
                                  "USER_AGENT",
                                  "APP_BUNDLE",
                                  "APP_NAME",
                                  "COUNTRY",
                                  "REGION",
                                  "CITY",
                                  "ZIP",
                                  "DMA",
                                  "LAT",
                                  "LONG",
                                  "DEVICE_ID",
                                  "DEVICE_ID_TYPE",
                                  "DOMAIN",
                                  "PAGE_URL",
                                  "REFERRER",
                                  "KEYWORDS",
                                  "PLACEMENT_ID",
                                  "FOLD_POSITION",
                                  "AD_WIDTH",
                                  "AD_HEIGHT",
                                  "VIDEO_ID",
                                  "VIDEO_TITLE",
                                  "VIDEO_DURATION",
                                  "VIDEO_CATEGORY",
                                  "CONTENT_GENRE",
                                  "CONTENT_RATING",
                                  "PLAYER_WIDTH",
                                  "PLAYER_HEIGHT",
                                  "POD_POSITION",
                                  "POD_SIZE",
                                  "AD_BREAK_ID",
                                  "STATION_ID",
                                  "SHOW_NAME",
                                  "EPISODE_ID",
                                  "AUDIO_DURATION",
                                  "AXEM"
                                ],
                                "enumDescriptions": {
                                  "MEDIA_BUY_ID": "AdCP media buy identifier",
                                  "PACKAGE_ID": "AdCP package identifier",
                                  "CREATIVE_ID": "AdCP creative identifier",
                                  "CACHEBUSTER": "Random number to prevent caching",
                                  "TIMESTAMP": "Unix timestamp in milliseconds",
                                  "CLICK_URL": "Publisher's click tracking URL (auto-inserted by sales agent)",
                                  "GDPR": "GDPR applicability flag (1=applies, 0=doesn't apply)",
                                  "GDPR_CONSENT": "IAB TCF 2.0 consent string",
                                  "US_PRIVACY": "US Privacy (CCPA) string",
                                  "GPP_STRING": "Global Privacy Platform consent string",
                                  "GPP_SID": "GPP Section ID(s) indicating applicable privacy framework sections",
                                  "IP_ADDRESS": "User IP address (often masked for privacy, may return empty)",
                                  "LIMIT_AD_TRACKING": "Limit Ad Tracking enabled (1=limited, 0=allowed)",
                                  "DEVICE_TYPE": "Device category (mobile, tablet, desktop, ctv, dooh)",
                                  "OS": "Operating system (iOS, Android, tvOS, Roku, etc.)",
                                  "OS_VERSION": "OS version number",
                                  "DEVICE_MAKE": "Device manufacturer",
                                  "DEVICE_MODEL": "Device model identifier",
                                  "USER_AGENT": "Full user agent string",
                                  "APP_BUNDLE": "App bundle ID (domain or numeric)",
                                  "APP_NAME": "Human-readable app name",
                                  "COUNTRY": "ISO 3166-1 alpha-2 country code",
                                  "REGION": "State/province/region code",
                                  "CITY": "City name",
                                  "ZIP": "Postal code",
                                  "DMA": "Nielsen DMA code (US TV markets)",
                                  "LAT": "Latitude coordinate",
                                  "LONG": "Longitude coordinate",
                                  "DEVICE_ID": "Mobile advertising ID (IDFA/AAID)",
                                  "DEVICE_ID_TYPE": "Type of device ID (idfa, aaid)",
                                  "DOMAIN": "Domain where ad is shown",
                                  "PAGE_URL": "Full page URL (encoded)",
                                  "REFERRER": "HTTP referrer URL",
                                  "KEYWORDS": "Page keywords (comma-separated)",
                                  "PLACEMENT_ID": "Global Placement ID (IAB standard)",
                                  "FOLD_POSITION": "Position relative to fold (above_fold, below_fold)",
                                  "AD_WIDTH": "Ad slot width in pixels",
                                  "AD_HEIGHT": "Ad slot height in pixels",
                                  "VIDEO_ID": "Content video identifier",
                                  "VIDEO_TITLE": "Content video title",
                                  "VIDEO_DURATION": "Content duration in seconds",
                                  "VIDEO_CATEGORY": "IAB content category",
                                  "CONTENT_GENRE": "Content genre (news, sports, comedy, etc.)",
                                  "CONTENT_RATING": "Content rating (G, PG, TV-14, etc.)",
                                  "PLAYER_WIDTH": "Video player width in pixels",
                                  "PLAYER_HEIGHT": "Video player height in pixels",
                                  "POD_POSITION": "Position within ad break",
                                  "POD_SIZE": "Total ads in the ad break",
                                  "AD_BREAK_ID": "Unique ad break identifier",
                                  "STATION_ID": "Radio station or podcast identifier",
                                  "SHOW_NAME": "Program or show name",
                                  "EPISODE_ID": "Podcast episode identifier",
                                  "AUDIO_DURATION": "Audio content duration in seconds",
                                  "AXEM": "AXE contextual metadata (encoded blob)"
                                }
                              },
                              {
                                "type": "string",
                                "description": "Custom or publisher-specific macro name"
                              }
                            ]
                          },
                          "description": "Universal macros that can be passed to webhook (e.g., DEVICE_TYPE, COUNTRY). See docs/creative/universal-macros.mdx for full list."
                        },
                        "required_macros": {
                          "type": "array",
                          "items": {
                            "oneOf": [
                              {
                                "title": "Universal Macro",
                                "description": "Standardized macro placeholders for dynamic value substitution in creative tracking URLs. Macros are replaced with actual values at impression time. See docs/creative/universal-macros.mdx for detailed documentation.",
                                "type": "string",
                                "enum": [
                                  "MEDIA_BUY_ID",
                                  "PACKAGE_ID",
                                  "CREATIVE_ID",
                                  "CACHEBUSTER",
                                  "TIMESTAMP",
                                  "CLICK_URL",
                                  "GDPR",
                                  "GDPR_CONSENT",
                                  "US_PRIVACY",
                                  "GPP_STRING",
                                  "GPP_SID",
                                  "IP_ADDRESS",
                                  "LIMIT_AD_TRACKING",
                                  "DEVICE_TYPE",
                                  "OS",
                                  "OS_VERSION",
                                  "DEVICE_MAKE",
                                  "DEVICE_MODEL",
                                  "USER_AGENT",
                                  "APP_BUNDLE",
                                  "APP_NAME",
                                  "COUNTRY",
                                  "REGION",
                                  "CITY",
                                  "ZIP",
                                  "DMA",
                                  "LAT",
                                  "LONG",
                                  "DEVICE_ID",
                                  "DEVICE_ID_TYPE",
                                  "DOMAIN",
                                  "PAGE_URL",
                                  "REFERRER",
                                  "KEYWORDS",
                                  "PLACEMENT_ID",
                                  "FOLD_POSITION",
                                  "AD_WIDTH",
                                  "AD_HEIGHT",
                                  "VIDEO_ID",
                                  "VIDEO_TITLE",
                                  "VIDEO_DURATION",
                                  "VIDEO_CATEGORY",
                                  "CONTENT_GENRE",
                                  "CONTENT_RATING",
                                  "PLAYER_WIDTH",
                                  "PLAYER_HEIGHT",
                                  "POD_POSITION",
                                  "POD_SIZE",
                                  "AD_BREAK_ID",
                                  "STATION_ID",
                                  "SHOW_NAME",
                                  "EPISODE_ID",
                                  "AUDIO_DURATION",
                                  "AXEM"
                                ],
                                "enumDescriptions": {
                                  "MEDIA_BUY_ID": "AdCP media buy identifier",
                                  "PACKAGE_ID": "AdCP package identifier",
                                  "CREATIVE_ID": "AdCP creative identifier",
                                  "CACHEBUSTER": "Random number to prevent caching",
                                  "TIMESTAMP": "Unix timestamp in milliseconds",
                                  "CLICK_URL": "Publisher's click tracking URL (auto-inserted by sales agent)",
                                  "GDPR": "GDPR applicability flag (1=applies, 0=doesn't apply)",
                                  "GDPR_CONSENT": "IAB TCF 2.0 consent string",
                                  "US_PRIVACY": "US Privacy (CCPA) string",
                                  "GPP_STRING": "Global Privacy Platform consent string",
                                  "GPP_SID": "GPP Section ID(s) indicating applicable privacy framework sections",
                                  "IP_ADDRESS": "User IP address (often masked for privacy, may return empty)",
                                  "LIMIT_AD_TRACKING": "Limit Ad Tracking enabled (1=limited, 0=allowed)",
                                  "DEVICE_TYPE": "Device category (mobile, tablet, desktop, ctv, dooh)",
                                  "OS": "Operating system (iOS, Android, tvOS, Roku, etc.)",
                                  "OS_VERSION": "OS version number",
                                  "DEVICE_MAKE": "Device manufacturer",
                                  "DEVICE_MODEL": "Device model identifier",
                                  "USER_AGENT": "Full user agent string",
                                  "APP_BUNDLE": "App bundle ID (domain or numeric)",
                                  "APP_NAME": "Human-readable app name",
                                  "COUNTRY": "ISO 3166-1 alpha-2 country code",
                                  "REGION": "State/province/region code",
                                  "CITY": "City name",
                                  "ZIP": "Postal code",
                                  "DMA": "Nielsen DMA code (US TV markets)",
                                  "LAT": "Latitude coordinate",
                                  "LONG": "Longitude coordinate",
                                  "DEVICE_ID": "Mobile advertising ID (IDFA/AAID)",
                                  "DEVICE_ID_TYPE": "Type of device ID (idfa, aaid)",
                                  "DOMAIN": "Domain where ad is shown",
                                  "PAGE_URL": "Full page URL (encoded)",
                                  "REFERRER": "HTTP referrer URL",
                                  "KEYWORDS": "Page keywords (comma-separated)",
                                  "PLACEMENT_ID": "Global Placement ID (IAB standard)",
                                  "FOLD_POSITION": "Position relative to fold (above_fold, below_fold)",
                                  "AD_WIDTH": "Ad slot width in pixels",
                                  "AD_HEIGHT": "Ad slot height in pixels",
                                  "VIDEO_ID": "Content video identifier",
                                  "VIDEO_TITLE": "Content video title",
                                  "VIDEO_DURATION": "Content duration in seconds",
                                  "VIDEO_CATEGORY": "IAB content category",
                                  "CONTENT_GENRE": "Content genre (news, sports, comedy, etc.)",
                                  "CONTENT_RATING": "Content rating (G, PG, TV-14, etc.)",
                                  "PLAYER_WIDTH": "Video player width in pixels",
                                  "PLAYER_HEIGHT": "Video player height in pixels",
                                  "POD_POSITION": "Position within ad break",
                                  "POD_SIZE": "Total ads in the ad break",
                                  "AD_BREAK_ID": "Unique ad break identifier",
                                  "STATION_ID": "Radio station or podcast identifier",
                                  "SHOW_NAME": "Program or show name",
                                  "EPISODE_ID": "Podcast episode identifier",
                                  "AUDIO_DURATION": "Audio content duration in seconds",
                                  "AXEM": "AXE contextual metadata (encoded blob)"
                                }
                              },
                              {
                                "type": "string",
                                "description": "Custom or publisher-specific macro name"
                              }
                            ]
                          },
                          "description": "Universal macros that must be provided for webhook to function"
                        },
                        "response_type": {
                          "title": "Webhook Response Type",
                          "description": "Expected content type of webhook response",
                          "type": "string",
                          "enum": [
                            "html",
                            "json",
                            "xml",
                            "javascript"
                          ]
                        },
                        "security": {
                          "type": "object",
                          "description": "Security configuration for webhook calls",
                          "properties": {
                            "method": {
                              "title": "Webhook Security Method",
                              "description": "Authentication method",
                              "type": "string",
                              "enum": [
                                "hmac_sha256",
                                "api_key",
                                "none"
                              ]
                            },
                            "hmac_header": {
                              "type": "string",
                              "description": "Header name for HMAC signature (e.g., 'X-Signature')"
                            },
                            "api_key_header": {
                              "type": "string",
                              "description": "Header name for API key (e.g., 'X-API-Key')"
                            }
                          },
                          "required": [
                            "method"
                          ]
                        }
                      },
                      "required": [
                        "url",
                        "response_type",
                        "security"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "CSS Asset",
                      "description": "CSS stylesheet asset",
                      "type": "object",
                      "properties": {
                        "content": {
                          "type": "string",
                          "description": "CSS content"
                        },
                        "media": {
                          "type": "string",
                          "description": "CSS media query context (e.g., 'screen', 'print')"
                        }
                      },
                      "required": [
                        "content"
                      ],
                      "additionalProperties": true
                    },
                    {
                      "title": "DAAST Asset",
                      "description": "DAAST (Digital Audio Ad Serving Template) tag for third-party audio ad serving",
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "delivery_type": {
                              "type": "string",
                              "const": "url",
                              "description": "Discriminator indicating DAAST is delivered via URL endpoint"
                            },
                            "url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL endpoint that returns DAAST XML"
                            },
                            "daast_version": {
                              "title": "DAAST Version",
                              "description": "DAAST specification version",
                              "type": "string",
                              "enum": [
                                "1.0",
                                "1.1"
                              ]
                            },
                            "duration_ms": {
                              "type": "integer",
                              "description": "Expected audio duration in milliseconds (if known)",
                              "minimum": 0
                            },
                            "tracking_events": {
                              "type": "array",
                              "items": {
                                "title": "DAAST Tracking Event",
                                "description": "Standard DAAST tracking events for audio ad playback and interaction",
                                "type": "string",
                                "enum": [
                                  "start",
                                  "firstQuartile",
                                  "midpoint",
                                  "thirdQuartile",
                                  "complete",
                                  "impression",
                                  "pause",
                                  "resume",
                                  "skip",
                                  "mute",
                                  "unmute"
                                ]
                              },
                              "description": "Tracking events supported by this DAAST tag"
                            },
                            "companion_ads": {
                              "type": "boolean",
                              "description": "Whether companion display ads are included"
                            },
                            "transcript_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to text transcript of the audio content",
                              "x-accessibility": true
                            }
                          },
                          "required": [
                            "delivery_type",
                            "url"
                          ],
                          "additionalProperties": true
                        },
                        {
                          "type": "object",
                          "properties": {
                            "delivery_type": {
                              "type": "string",
                              "const": "inline",
                              "description": "Discriminator indicating DAAST is delivered as inline XML content"
                            },
                            "content": {
                              "type": "string",
                              "description": "Inline DAAST XML content"
                            },
                            "daast_version": {
                              "title": "DAAST Version",
                              "description": "DAAST specification version",
                              "type": "string",
                              "enum": [
                                "1.0",
                                "1.1"
                              ]
                            },
                            "duration_ms": {
                              "type": "integer",
                              "description": "Expected audio duration in milliseconds (if known)",
                              "minimum": 0
                            },
                            "tracking_events": {
                              "type": "array",
                              "items": {
                                "title": "DAAST Tracking Event",
                                "description": "Standard DAAST tracking events for audio ad playback and interaction",
                                "type": "string",
                                "enum": [
                                  "start",
                                  "firstQuartile",
                                  "midpoint",
                                  "thirdQuartile",
                                  "complete",
                                  "impression",
                                  "pause",
                                  "resume",
                                  "skip",
                                  "mute",
                                  "unmute"
                                ]
                              },
                              "description": "Tracking events supported by this DAAST tag"
                            },
                            "companion_ads": {
                              "type": "boolean",
                              "description": "Whether companion display ads are included"
                            },
                            "transcript_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to text transcript of the audio content",
                              "x-accessibility": true
                            }
                          },
                          "required": [
                            "delivery_type",
                            "content"
                          ],
                          "additionalProperties": true
                        }
                      ]
                    },
                    {
                      "title": "Promoted Offerings",
                      "description": "Complete offering specification combining brand manifest, product selectors, and optional SI agent endpoint. Provides all context needed for creative generation and/or conversational experiences about what is being promoted. When si_agent_url is present, hosts can connect users to conversational experiences about any of the offerings.",
                      "type": "object",
                      "properties": {
                        "brand_manifest": {
                          "title": "Brand Manifest Reference",
                          "description": "Brand information manifest containing assets, themes, and guidelines. Can be provided inline or as a URL reference to a hosted manifest.",
                          "oneOf": [
                            {
                              "title": "Brand Manifest",
                              "description": "Inline brand manifest object",
                              "type": "object",
                              "properties": {
                                "url": {
                                  "type": "string",
                                  "format": "uri",
                                  "description": "Primary brand URL for context and asset discovery. Creative agents can infer brand information from this URL."
                                },
                                "privacy_policy_url": {
                                  "type": "string",
                                  "format": "uri",
                                  "description": "URL to the brand's privacy policy. Used for consumer consent flows when personal data may be shared with the advertiser. AI platforms can use this to present explicit privacy choices to users before data handoff."
                                },
                                "name": {
                                  "type": "string",
                                  "description": "Brand or business name"
                                },
                                "logos": {
                                  "type": "array",
                                  "description": "Brand logo assets with structured fields for orientation, background compatibility, and variant type. Use the orientation, background, and variant enum fields for reliable filtering by creative agents.",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "url": {
                                        "type": "string",
                                        "format": "uri",
                                        "description": "URL to the logo asset"
                                      },
                                      "orientation": {
                                        "type": "string",
                                        "enum": [
                                          "square",
                                          "horizontal",
                                          "vertical",
                                          "stacked"
                                        ],
                                        "description": "Logo aspect ratio orientation. square: ~1:1, horizontal: wide, vertical: tall, stacked: vertically arranged elements"
                                      },
                                      "background": {
                                        "type": "string",
                                        "enum": [
                                          "dark-bg",
                                          "light-bg",
                                          "transparent-bg"
                                        ],
                                        "description": "Background compatibility. dark-bg: use on dark backgrounds, light-bg: use on light backgrounds, transparent-bg: has transparent background"
                                      },
                                      "variant": {
                                        "type": "string",
                                        "enum": [
                                          "primary",
                                          "secondary",
                                          "icon",
                                          "wordmark",
                                          "full-lockup"
                                        ],
                                        "description": "Logo variant type. primary: main logo, secondary: alternative, icon: symbol only, wordmark: text only, full-lockup: complete logo"
                                      },
                                      "tags": {
                                        "type": "array",
                                        "description": "Additional semantic tags for custom categorization beyond the standard orientation, background, and variant fields.",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "usage": {
                                        "type": "string",
                                        "description": "Human-readable description of when to use this logo variant (e.g., 'Primary logo for use on light backgrounds', 'Icon-only variant for small formats')"
                                      },
                                      "width": {
                                        "type": "integer",
                                        "description": "Logo width in pixels"
                                      },
                                      "height": {
                                        "type": "integer",
                                        "description": "Logo height in pixels"
                                      }
                                    },
                                    "required": [
                                      "url"
                                    ]
                                  }
                                },
                                "colors": {
                                  "type": "object",
                                  "description": "Brand color palette. Each role accepts a single hex color or an array of hex colors for brands with multiple values per role.",
                                  "properties": {
                                    "primary": {
                                      "description": "Primary brand color(s)",
                                      "oneOf": [
                                        {
                                          "type": "string",
                                          "pattern": "^#[0-9A-Fa-f]{6}$"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string",
                                            "pattern": "^#[0-9A-Fa-f]{6}$"
                                          },
                                          "minItems": 1
                                        }
                                      ]
                                    },
                                    "secondary": {
                                      "description": "Secondary brand color(s)",
                                      "oneOf": [
                                        {
                                          "type": "string",
                                          "pattern": "^#[0-9A-Fa-f]{6}$"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string",
                                            "pattern": "^#[0-9A-Fa-f]{6}$"
                                          },
                                          "minItems": 1
                                        }
                                      ]
                                    },
                                    "accent": {
                                      "description": "Accent color(s)",
                                      "oneOf": [
                                        {
                                          "type": "string",
                                          "pattern": "^#[0-9A-Fa-f]{6}$"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string",
                                            "pattern": "^#[0-9A-Fa-f]{6}$"
                                          },
                                          "minItems": 1
                                        }
                                      ]
                                    },
                                    "background": {
                                      "description": "Background color(s)",
                                      "oneOf": [
                                        {
                                          "type": "string",
                                          "pattern": "^#[0-9A-Fa-f]{6}$"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string",
                                            "pattern": "^#[0-9A-Fa-f]{6}$"
                                          },
                                          "minItems": 1
                                        }
                                      ]
                                    },
                                    "text": {
                                      "description": "Text color(s)",
                                      "oneOf": [
                                        {
                                          "type": "string",
                                          "pattern": "^#[0-9A-Fa-f]{6}$"
                                        },
                                        {
                                          "type": "array",
                                          "items": {
                                            "type": "string",
                                            "pattern": "^#[0-9A-Fa-f]{6}$"
                                          },
                                          "minItems": 1
                                        }
                                      ]
                                    }
                                  }
                                },
                                "fonts": {
                                  "type": "object",
                                  "description": "Brand typography guidelines",
                                  "properties": {
                                    "primary": {
                                      "type": "string",
                                      "description": "Primary font family name"
                                    },
                                    "secondary": {
                                      "type": "string",
                                      "description": "Secondary font family name"
                                    },
                                    "font_urls": {
                                      "type": "array",
                                      "description": "URLs to web font files if using custom fonts",
                                      "items": {
                                        "type": "string",
                                        "format": "uri"
                                      }
                                    }
                                  }
                                },
                                "tone": {
                                  "description": "Brand voice and messaging tone guidelines for creative agents.",
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "description": "Simple tone descriptors for backwards compatibility"
                                    },
                                    {
                                      "type": "object",
                                      "description": "Structured brand voice guidelines",
                                      "properties": {
                                        "voice": {
                                          "type": "string",
                                          "description": "High-level voice descriptor (e.g., 'warm and inviting', 'professional and trustworthy')"
                                        },
                                        "attributes": {
                                          "type": "array",
                                          "description": "Personality traits that characterize the brand voice",
                                          "items": {
                                            "type": "string"
                                          },
                                          "examples": [
                                            [
                                              "friendly",
                                              "optimistic",
                                              "conversational",
                                              "authentic"
                                            ]
                                          ]
                                        },
                                        "dos": {
                                          "type": "array",
                                          "description": "Specific guidance for copy generation - what TO do",
                                          "items": {
                                            "type": "string"
                                          },
                                          "examples": [
                                            [
                                              "Use simple, everyday language",
                                              "Address the reader directly",
                                              "Keep sentences short and punchy"
                                            ]
                                          ]
                                        },
                                        "donts": {
                                          "type": "array",
                                          "description": "Guardrails to avoid brand violations - what NOT to do",
                                          "items": {
                                            "type": "string"
                                          },
                                          "examples": [
                                            [
                                              "Avoid corporate jargon",
                                              "Don't be overly formal",
                                              "Don't make exaggerated claims"
                                            ]
                                          ]
                                        }
                                      }
                                    }
                                  ]
                                },
                                "voice": {
                                  "type": "object",
                                  "description": "Brand voice configuration for audio/conversational experiences",
                                  "properties": {
                                    "provider": {
                                      "type": "string",
                                      "description": "TTS provider (e.g., 'elevenlabs', 'openai', 'amazon_polly')"
                                    },
                                    "voice_id": {
                                      "type": "string",
                                      "description": "Provider-specific voice identifier"
                                    },
                                    "settings": {
                                      "type": "object",
                                      "description": "Provider-specific voice settings (speed, pitch, etc.)",
                                      "additionalProperties": true
                                    }
                                  }
                                },
                                "avatar": {
                                  "type": "object",
                                  "description": "Brand avatar configuration for visual conversational experiences",
                                  "properties": {
                                    "provider": {
                                      "type": "string",
                                      "description": "Avatar provider (e.g., 'd-id', 'heygen', 'synthesia')"
                                    },
                                    "avatar_id": {
                                      "type": "string",
                                      "description": "Provider-specific avatar identifier"
                                    },
                                    "settings": {
                                      "type": "object",
                                      "description": "Provider-specific avatar settings",
                                      "additionalProperties": true
                                    }
                                  }
                                },
                                "tagline": {
                                  "type": "string",
                                  "description": "Brand tagline or slogan"
                                },
                                "assets": {
                                  "type": "array",
                                  "description": "Brand asset library with explicit assets and tags. Assets are referenced inline with URLs pointing to CDN-hosted files.",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "asset_id": {
                                        "type": "string",
                                        "description": "Unique identifier for this asset"
                                      },
                                      "asset_type": {
                                        "title": "Asset Content Type",
                                        "description": "Type of asset. Note: Brand manifests typically contain basic media assets (image, video, audio, text). Code assets (html, javascript, css) and ad markup (vast, daast) are usually not part of brand asset libraries.",
                                        "type": "string",
                                        "enum": [
                                          "image",
                                          "video",
                                          "audio",
                                          "text",
                                          "markdown",
                                          "html",
                                          "css",
                                          "javascript",
                                          "vast",
                                          "daast",
                                          "promoted_offerings",
                                          "url",
                                          "webhook"
                                        ]
                                      },
                                      "url": {
                                        "type": "string",
                                        "format": "uri",
                                        "description": "URL to CDN-hosted asset file"
                                      },
                                      "tags": {
                                        "type": "array",
                                        "description": "Tags for asset discovery (e.g., 'holiday', 'lifestyle', 'product_shot')",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "name": {
                                        "type": "string",
                                        "description": "Human-readable asset name"
                                      },
                                      "description": {
                                        "type": "string",
                                        "description": "Asset description or usage notes"
                                      },
                                      "width": {
                                        "type": "integer",
                                        "description": "Image/video width in pixels"
                                      },
                                      "height": {
                                        "type": "integer",
                                        "description": "Image/video height in pixels"
                                      },
                                      "duration_seconds": {
                                        "type": "number",
                                        "description": "Video/audio duration in seconds"
                                      },
                                      "file_size_bytes": {
                                        "type": "integer",
                                        "description": "File size in bytes"
                                      },
                                      "format": {
                                        "type": "string",
                                        "description": "File format (e.g., 'jpg', 'mp4', 'mp3')"
                                      },
                                      "metadata": {
                                        "type": "object",
                                        "description": "Additional asset-specific metadata",
                                        "additionalProperties": true
                                      }
                                    },
                                    "required": [
                                      "asset_id",
                                      "asset_type",
                                      "url"
                                    ],
                                    "additionalProperties": true
                                  }
                                },
                                "product_catalog": {
                                  "type": "object",
                                  "description": "Product catalog information for e-commerce advertisers. Enables SKU-level creative generation and product selection.",
                                  "properties": {
                                    "feed_url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to product catalog feed"
                                    },
                                    "feed_format": {
                                      "type": "string",
                                      "enum": [
                                        "google_merchant_center",
                                        "facebook_catalog",
                                        "openai_product_feed",
                                        "custom"
                                      ],
                                      "default": "google_merchant_center",
                                      "description": "Format of the product feed. Use 'openai_product_feed' for feeds conforming to the OpenAI Commerce Product Feed specification."
                                    },
                                    "categories": {
                                      "type": "array",
                                      "description": "Product categories available in the catalog (for filtering)",
                                      "items": {
                                        "type": "string"
                                      }
                                    },
                                    "last_updated": {
                                      "type": "string",
                                      "format": "date-time",
                                      "description": "When the product catalog was last updated"
                                    },
                                    "update_frequency": {
                                      "type": "string",
                                      "enum": [
                                        "realtime",
                                        "hourly",
                                        "daily",
                                        "weekly"
                                      ],
                                      "description": "How frequently the product catalog is updated"
                                    },
                                    "agentic_checkout": {
                                      "type": "object",
                                      "description": "Agentic checkout endpoint configuration. Enables AI agents to complete purchases on behalf of users through a structured checkout API.",
                                      "properties": {
                                        "endpoint": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "Base URL for checkout session API (e.g., https://merchant.com/api/checkout_sessions)"
                                        },
                                        "spec": {
                                          "type": "string",
                                          "enum": [
                                            "openai_agentic_checkout_v1"
                                          ],
                                          "description": "Checkout API specification implemented by the endpoint"
                                        },
                                        "supported_payment_providers": {
                                          "type": "array",
                                          "description": "Payment providers supported by this checkout endpoint",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "required": [
                                        "endpoint",
                                        "spec"
                                      ]
                                    }
                                  },
                                  "required": [
                                    "feed_url"
                                  ],
                                  "additionalProperties": true
                                },
                                "disclaimers": {
                                  "type": "array",
                                  "description": "Legal disclaimers or required text that must appear in creatives",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "text": {
                                        "type": "string",
                                        "description": "Disclaimer text"
                                      },
                                      "context": {
                                        "type": "string",
                                        "description": "When this disclaimer applies (e.g., 'financial_products', 'health_claims', 'all')"
                                      },
                                      "required": {
                                        "type": "boolean",
                                        "description": "Whether this disclaimer must appear",
                                        "default": true
                                      }
                                    },
                                    "required": [
                                      "text"
                                    ]
                                  }
                                },
                                "industry": {
                                  "type": "string",
                                  "description": "Industry or vertical (e.g., 'retail', 'automotive', 'finance', 'healthcare')"
                                },
                                "target_audience": {
                                  "type": "string",
                                  "description": "Primary target audience description"
                                },
                                "contact": {
                                  "type": "object",
                                  "description": "Brand contact information",
                                  "properties": {
                                    "email": {
                                      "type": "string",
                                      "format": "email",
                                      "description": "Contact email"
                                    },
                                    "phone": {
                                      "type": "string",
                                      "description": "Contact phone number"
                                    }
                                  }
                                },
                                "metadata": {
                                  "type": "object",
                                  "description": "Additional brand metadata",
                                  "properties": {
                                    "created_date": {
                                      "type": "string",
                                      "format": "date-time",
                                      "description": "When this brand manifest was created"
                                    },
                                    "updated_date": {
                                      "type": "string",
                                      "format": "date-time",
                                      "description": "When this brand manifest was last updated"
                                    },
                                    "version": {
                                      "type": "string",
                                      "description": "Brand card version number"
                                    }
                                  }
                                }
                              },
                              "required": [
                                "name"
                              ],
                              "additionalProperties": true,
                              "examples": [
                                {
                                  "description": "Example with both URL and name",
                                  "data": {
                                    "url": "https://bobsfunburgers.com",
                                    "name": "Bob's Fun Burgers"
                                  }
                                },
                                {
                                  "description": "Example: white-label brand without dedicated URL",
                                  "data": {
                                    "name": "Great Value",
                                    "colors": {
                                      "primary": "#0071CE",
                                      "secondary": "#FFC220"
                                    },
                                    "tone": {
                                      "voice": "affordable and trustworthy"
                                    }
                                  }
                                },
                                {
                                  "description": "Full brand manifest with all fields",
                                  "data": {
                                    "url": "https://acmecorp.com",
                                    "privacy_policy_url": "https://acmecorp.com/privacy",
                                    "name": "ACME Corporation",
                                    "logos": [
                                      {
                                        "url": "https://cdn.acmecorp.com/logo-on-light.png",
                                        "orientation": "horizontal",
                                        "background": "light-bg",
                                        "variant": "primary",
                                        "usage": "Primary logo for use on light backgrounds",
                                        "width": 1200,
                                        "height": 400
                                      },
                                      {
                                        "url": "https://cdn.acmecorp.com/logo-on-dark.png",
                                        "orientation": "horizontal",
                                        "background": "dark-bg",
                                        "variant": "primary",
                                        "usage": "Primary logo for use on dark backgrounds",
                                        "width": 1200,
                                        "height": 400
                                      },
                                      {
                                        "url": "https://cdn.acmecorp.com/icon.png",
                                        "orientation": "square",
                                        "background": "transparent-bg",
                                        "variant": "icon",
                                        "usage": "Icon-only variant for small formats",
                                        "width": 512,
                                        "height": 512
                                      }
                                    ],
                                    "colors": {
                                      "primary": "#FF6B35",
                                      "secondary": "#004E89",
                                      "accent": "#F7931E",
                                      "background": "#FFFFFF",
                                      "text": "#1A1A1A"
                                    },
                                    "fonts": {
                                      "primary": "Helvetica Neue",
                                      "secondary": "Georgia"
                                    },
                                    "tone": {
                                      "voice": "professional and trustworthy",
                                      "attributes": [
                                        "confident",
                                        "innovative",
                                        "approachable",
                                        "expert"
                                      ],
                                      "dos": [
                                        "Use clear, direct language",
                                        "Highlight innovation and reliability",
                                        "Back claims with specifics",
                                        "Address decision-makers directly"
                                      ],
                                      "donts": [
                                        "Avoid hyperbole or exaggeration",
                                        "Don't use overly casual language",
                                        "Avoid technical jargon without explanation",
                                        "Don't make unsubstantiated claims"
                                      ]
                                    },
                                    "tagline": "Innovation You Can Trust",
                                    "assets": [
                                      {
                                        "asset_id": "hero_winter_2024",
                                        "asset_type": "image",
                                        "url": "https://cdn.acmecorp.com/hero-winter-2024.jpg",
                                        "tags": [
                                          "hero",
                                          "winter",
                                          "holiday",
                                          "lifestyle"
                                        ],
                                        "name": "Winter Campaign Hero",
                                        "width": 1920,
                                        "height": 1080,
                                        "format": "jpg"
                                      },
                                      {
                                        "asset_id": "product_video_30s",
                                        "asset_type": "video",
                                        "url": "https://cdn.acmecorp.com/product-demo-30s.mp4",
                                        "tags": [
                                          "product",
                                          "demo",
                                          "30s"
                                        ],
                                        "name": "Product Demo 30 Second",
                                        "width": 1920,
                                        "height": 1080,
                                        "duration_seconds": 30,
                                        "format": "mp4"
                                      }
                                    ],
                                    "product_catalog": {
                                      "feed_url": "https://acmecorp.com/products.xml",
                                      "feed_format": "google_merchant_center",
                                      "categories": [
                                        "electronics/computers",
                                        "electronics/accessories"
                                      ],
                                      "last_updated": "2024-03-15T10:00:00Z",
                                      "update_frequency": "hourly"
                                    },
                                    "disclaimers": [
                                      {
                                        "text": "Results may vary. Consult a professional before use.",
                                        "context": "health_claims",
                                        "required": true
                                      }
                                    ],
                                    "industry": "technology",
                                    "target_audience": "business decision-makers aged 35-55"
                                  }
                                },
                                {
                                  "description": "E-commerce brand with OpenAI product feed and agentic checkout",
                                  "data": {
                                    "url": "https://shopexample.com",
                                    "privacy_policy_url": "https://shopexample.com/privacy",
                                    "name": "Shop Example",
                                    "product_catalog": {
                                      "feed_url": "https://shopexample.com/products.jsonl.gz",
                                      "feed_format": "openai_product_feed",
                                      "update_frequency": "daily",
                                      "agentic_checkout": {
                                        "endpoint": "https://api.shopexample.com/checkout_sessions",
                                        "spec": "openai_agentic_checkout_v1",
                                        "supported_payment_providers": [
                                          "stripe",
                                          "adyen"
                                        ]
                                      }
                                    }
                                  }
                                }
                              ]
                            },
                            {
                              "type": "string",
                              "format": "uri",
                              "description": "URL to a hosted brand manifest JSON file. The manifest at this URL must conform to the brand-manifest.json schema."
                            }
                          ],
                          "examples": [
                            {
                              "description": "Inline brand manifest",
                              "data": {
                                "url": "https://acmecorp.com",
                                "name": "ACME Corporation",
                                "colors": {
                                  "primary": "#FF6B35"
                                }
                              }
                            },
                            {
                              "description": "URL string reference to hosted manifest",
                              "data": "https://cdn.acmecorp.com/brand-manifest.json"
                            }
                          ]
                        },
                        "si_agent_url": {
                          "type": "string",
                          "format": "uri",
                          "description": "MCP endpoint URL for the brand's SI agent. When present, hosts can connect users to conversational experiences about any of the offerings. The agent handles si_get_offering lookups and full conversations."
                        },
                        "product_selectors": {
                          "title": "Promoted Products",
                          "description": "Selectors to choose which products/offerings from the brand manifest product catalog to promote",
                          "type": "object",
                          "properties": {
                            "manifest_gtins": {
                              "type": "array",
                              "description": "GTIN product identifiers for cross-retailer catalog matching. Accepts standard GTIN formats (GTIN-8, UPC-A/GTIN-12, EAN-13/GTIN-13, GTIN-14).",
                              "items": {
                                "type": "string",
                                "pattern": "^[0-9]{8,14}$"
                              }
                            },
                            "manifest_skus": {
                              "type": "array",
                              "description": "Direct product SKU references from the brand manifest product catalog",
                              "items": {
                                "type": "string"
                              }
                            },
                            "manifest_tags": {
                              "type": "array",
                              "description": "Select products by tags from the brand manifest product catalog (e.g., 'organic', 'sauces', 'holiday')",
                              "items": {
                                "type": "string"
                              }
                            },
                            "manifest_category": {
                              "type": "string",
                              "description": "Select products from a specific category in the brand manifest product catalog (e.g., 'beverages/soft-drinks', 'food/sauces')"
                            },
                            "manifest_query": {
                              "type": "string",
                              "description": "Natural language query to select products from the brand manifest (e.g., 'all Kraft Heinz pasta sauces', 'organic products under $20')"
                            }
                          },
                          "minProperties": 1,
                          "additionalProperties": true,
                          "examples": [
                            {
                              "description": "Cross-retailer GTIN matching for commerce media product discovery",
                              "data": {
                                "manifest_gtins": [
                                  "00013000006040",
                                  "00013000006057"
                                ]
                              }
                            },
                            {
                              "description": "Direct SKU selection for specific products from brand manifest",
                              "data": {
                                "manifest_skus": [
                                  "SKU-12345",
                                  "SKU-67890"
                                ]
                              }
                            },
                            {
                              "description": "UNION selection: products tagged 'organic' OR 'sauces' OR in 'food/condiments' category from brand manifest",
                              "data": {
                                "manifest_tags": [
                                  "organic",
                                  "sauces"
                                ],
                                "manifest_category": "food/condiments"
                              }
                            },
                            {
                              "description": "Natural language product selection from brand manifest",
                              "data": {
                                "manifest_query": "all Kraft Heinz pasta sauces under $5"
                              }
                            },
                            {
                              "description": "Select products by tags",
                              "data": {
                                "manifest_tags": [
                                  "holiday"
                                ]
                              }
                            }
                          ]
                        },
                        "offerings": {
                          "type": "array",
                          "description": "Offerings available for promotion. Each offering can include creative assets (via portfolio_ref or inline assets) for traditional ads. When si_agent_url is set at the parent level, hosts can offer conversational experiences about any of these offerings.",
                          "items": {
                            "title": "Offering",
                            "description": "A promotable offering from a brand. Can represent a campaign, product promotion, service, or any other thing the brand wants to make available. Offerings can be promoted via traditional creatives (using portfolio_ref or assets) or conversational SI experiences (via si_agent_url at the promoted-offerings level).",
                            "type": "object",
                            "properties": {
                              "offering_id": {
                                "type": "string",
                                "description": "Unique identifier for this offering. Used by hosts to reference specific offerings in si_get_offering calls."
                              },
                              "name": {
                                "type": "string",
                                "description": "Human-readable offering name (e.g., 'Winter Sale', 'Free Trial', 'Enterprise Platform')"
                              },
                              "description": {
                                "type": "string",
                                "description": "Description of what's being offered"
                              },
                              "tagline": {
                                "type": "string",
                                "description": "Short promotional tagline for the offering"
                              },
                              "valid_from": {
                                "type": "string",
                                "format": "date-time",
                                "description": "When the offering becomes available. If not specified, offering is immediately available."
                              },
                              "valid_to": {
                                "type": "string",
                                "format": "date-time",
                                "description": "When the offering expires. If not specified, offering has no expiration."
                              },
                              "checkout_url": {
                                "type": "string",
                                "format": "uri",
                                "description": "URL for checkout/purchase flow when the brand doesn't support agentic checkout."
                              },
                              "landing_url": {
                                "type": "string",
                                "format": "uri",
                                "description": "Landing page URL for this offering."
                              },
                              "assets": {
                                "type": "array",
                                "description": "Assets specific to this offering (images, videos, copy)",
                                "items": {
                                  "type": "object",
                                  "description": "Asset definition using standard asset structure",
                                  "additionalProperties": true
                                }
                              },
                              "portfolio_ref": {
                                "type": "string",
                                "format": "uri",
                                "description": "Reference to a creative portfolio for this offering. Portfolios contain organized creative assets across formats, enabling consistent ad delivery for this specific offering."
                              },
                              "keywords": {
                                "type": "array",
                                "description": "Keywords for matching this offering to user intent. Hosts use these for retrieval/relevance scoring.",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "categories": {
                                "type": "array",
                                "description": "Categories this offering belongs to (e.g., 'measurement', 'identity', 'programmatic')",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "ext": {
                                "title": "Extension Object",
                                "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                                "type": "object",
                                "additionalProperties": true
                              }
                            },
                            "required": [
                              "offering_id",
                              "name"
                            ],
                            "additionalProperties": true,
                            "examples": [
                              {
                                "description": "Time-limited promotional offer with checkout",
                                "data": {
                                  "offering_id": "q1-2025-trial",
                                  "name": "Free 30-day trial",
                                  "description": "Try our carbon measurement platform free for 30 days",
                                  "tagline": "Start measuring your digital carbon footprint today",
                                  "valid_from": "2025-01-01T00:00:00Z",
                                  "valid_to": "2025-03-31T23:59:59Z",
                                  "checkout_url": "https://scope3.com/signup",
                                  "keywords": [
                                    "carbon",
                                    "sustainability",
                                    "measurement",
                                    "emissions"
                                  ],
                                  "categories": [
                                    "measurement",
                                    "sustainability"
                                  ]
                                }
                              },
                              {
                                "description": "Product offering with landing page",
                                "data": {
                                  "offering_id": "enterprise-dsp",
                                  "name": "Enterprise DSP Platform",
                                  "description": "Full-featured demand-side platform for enterprise advertisers",
                                  "landing_url": "https://thetradedesk.com/enterprise",
                                  "keywords": [
                                    "dsp",
                                    "programmatic",
                                    "rtb",
                                    "ctv"
                                  ],
                                  "categories": [
                                    "programmatic",
                                    "dsp"
                                  ]
                                }
                              },
                              {
                                "description": "Offering with creative portfolio",
                                "data": {
                                  "offering_id": "summer-sale-2025",
                                  "name": "Summer Sale",
                                  "description": "Up to 50% off summer collection",
                                  "valid_from": "2025-06-01T00:00:00Z",
                                  "valid_to": "2025-08-31T23:59:59Z",
                                  "landing_url": "https://brand.com/summer-sale",
                                  "portfolio_ref": "https://brand.com/portfolios/summer-2025.json"
                                }
                              },
                              {
                                "description": "Offering with inline assets",
                                "data": {
                                  "offering_id": "product-launch",
                                  "name": "New Product Launch",
                                  "description": "Introducing our latest innovation",
                                  "assets": [
                                    {
                                      "asset_id": "launch-hero",
                                      "asset_type": "image",
                                      "url": "https://cdn.brand.com/launch-hero.jpg"
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        "asset_selectors": {
                          "type": "object",
                          "description": "Selectors to choose specific assets from the brand manifest",
                          "properties": {
                            "tags": {
                              "type": "array",
                              "description": "Select assets with specific tags (e.g., ['holiday', 'premium'])",
                              "items": {
                                "type": "string"
                              }
                            },
                            "asset_types": {
                              "type": "array",
                              "description": "Filter by asset type (e.g., ['image', 'video'])",
                              "items": {
                                "type": "string",
                                "enum": [
                                  "image",
                                  "video",
                                  "audio",
                                  "vast",
                                  "daast",
                                  "text",
                                  "url",
                                  "html",
                                  "css",
                                  "javascript",
                                  "webhook"
                                ]
                              }
                            },
                            "exclude_tags": {
                              "type": "array",
                              "description": "Exclude assets with these tags",
                              "items": {
                                "type": "string"
                              }
                            }
                          },
                          "additionalProperties": true
                        }
                      },
                      "required": [
                        "brand_manifest"
                      ],
                      "additionalProperties": true,
                      "examples": [
                        {
                          "description": "Traditional creative offering (no SI)",
                          "data": {
                            "brand_manifest": {
                              "name": "Brand Name",
                              "url": "https://brand.com"
                            },
                            "product_selectors": {
                              "manifest_skus": [
                                "SKU-123",
                                "SKU-456"
                              ]
                            },
                            "asset_selectors": {
                              "tags": [
                                "holiday"
                              ],
                              "asset_types": [
                                "image",
                                "video"
                              ]
                            }
                          }
                        },
                        {
                          "description": "Offerings with SI agent for conversational experiences",
                          "data": {
                            "brand_manifest": "https://brand.com/manifest.json",
                            "si_agent_url": "https://agent.brand.com/mcp",
                            "offerings": [
                              {
                                "offering_id": "q1-2025-trial",
                                "name": "Free 30-day trial",
                                "description": "Try our platform free for 30 days",
                                "valid_from": "2025-01-01T00:00:00Z",
                                "valid_to": "2025-03-31T23:59:59Z",
                                "checkout_url": "https://brand.com/signup"
                              },
                              {
                                "offering_id": "standard-product",
                                "name": "Enterprise Platform",
                                "description": "Our flagship enterprise solution",
                                "landing_url": "https://brand.com/enterprise"
                              }
                            ]
                          }
                        },
                        {
                          "description": "Offerings with both creatives and SI",
                          "data": {
                            "brand_manifest": "https://brand.com/manifest.json",
                            "si_agent_url": "https://agent.brand.com/mcp",
                            "offerings": [
                              {
                                "offering_id": "summer-campaign",
                                "name": "Summer Sale",
                                "description": "Up to 50% off summer collection",
                                "landing_url": "https://brand.com/summer",
                                "portfolio_ref": "https://brand.com/portfolios/summer-2025.json"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              "additionalProperties": true
            },
            "ext": {
              "title": "Extension Object",
              "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
              "type": "object",
              "additionalProperties": true
            }
          },
          "required": [
            "format_id",
            "assets"
          ],
          "additionalProperties": true
        },
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp when preview links expire"
        },
        "context": {
          "title": "Context Object",
          "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
          "type": "object",
          "additionalProperties": true
        },
        "ext": {
          "title": "Extension Object",
          "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
          "type": "object",
          "additionalProperties": true
        }
      },
      "required": [
        "response_type",
        "variant_id",
        "previews"
      ],
      "additionalProperties": true
    }
  ],
  "_bundled": {
    "generatedAt": "2026-02-12T12:28:49.107Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}