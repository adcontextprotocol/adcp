{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.3/bundled/media-buy/sync-creatives-request.json",
  "title": "Sync Creatives Request",
  "description": "Request parameters for syncing creative assets with upsert semantics - supports bulk operations, scoped updates, and assignment management",
  "type": "object",
  "properties": {
    "account_id": {
      "type": "string",
      "description": "Account that owns these creatives. Optional if the agent has a single account or the seller can determine the account from context. Required if the agent has multiple accounts and the seller cannot route automatically."
    },
    "creatives": {
      "type": "array",
      "description": "Array of creative assets to sync (create or update)",
      "items": {
        "title": "Creative Asset",
        "description": "Creative asset for upload to library - supports static assets, generative formats, and third-party snippets",
        "type": "object",
        "properties": {
          "creative_id": {
            "type": "string",
            "description": "Unique identifier for the creative"
          },
          "name": {
            "type": "string",
            "description": "Human-readable creative name"
          },
          "format_id": {
            "title": "Format ID",
            "description": "Format identifier specifying which format this creative conforms to. Can be: (1) concrete format_id referencing a format with fixed dimensions, (2) template format_id referencing a template format, or (3) parameterized format_id with dimensions/duration parameters for template formats.",
            "type": "object",
            "properties": {
              "agent_url": {
                "type": "string",
                "format": "uri",
                "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
              },
              "id": {
                "type": "string",
                "pattern": "^[a-zA-Z0-9_-]+$",
                "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
              },
              "width": {
                "type": "integer",
                "minimum": 1,
                "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
              },
              "height": {
                "type": "integer",
                "minimum": 1,
                "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
              },
              "duration_ms": {
                "type": "number",
                "minimum": 1,
                "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
              }
            },
            "required": [
              "agent_url",
              "id"
            ],
            "additionalProperties": true,
            "dependencies": {
              "width": [
                "height"
              ],
              "height": [
                "width"
              ]
            }
          },
          "assets": {
            "type": "object",
            "description": "Assets required by the format, keyed by asset_role",
            "patternProperties": {
              "^[a-zA-Z0-9_-]+$": {
                "oneOf": [
                  {
                    "title": "Image Asset",
                    "description": "Image asset with URL and dimensions",
                    "type": "object",
                    "properties": {
                      "url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to the image asset"
                      },
                      "width": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Width in pixels"
                      },
                      "height": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Height in pixels"
                      },
                      "format": {
                        "type": "string",
                        "description": "Image file format (jpg, png, gif, webp, etc.)"
                      },
                      "alt_text": {
                        "type": "string",
                        "description": "Alternative text for accessibility",
                        "x-accessibility": true
                      }
                    },
                    "required": [
                      "url",
                      "width",
                      "height"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "Video Asset",
                    "description": "Video asset with URL and technical specifications including audio track properties",
                    "type": "object",
                    "properties": {
                      "url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to the video asset"
                      },
                      "width": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Width in pixels"
                      },
                      "height": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Height in pixels"
                      },
                      "duration_ms": {
                        "type": "integer",
                        "description": "Video duration in milliseconds",
                        "minimum": 1
                      },
                      "file_size_bytes": {
                        "type": "integer",
                        "description": "File size in bytes",
                        "minimum": 1
                      },
                      "container_format": {
                        "type": "string",
                        "description": "Video container format (mp4, webm, mov, etc.)"
                      },
                      "video_codec": {
                        "type": "string",
                        "description": "Video codec used (h264, h265, vp9, av1, prores, etc.)"
                      },
                      "video_bitrate_kbps": {
                        "type": "integer",
                        "description": "Video stream bitrate in kilobits per second",
                        "minimum": 1
                      },
                      "frame_rate": {
                        "type": "string",
                        "description": "Frame rate as string to preserve precision (e.g., '23.976', '29.97', '30')"
                      },
                      "frame_rate_type": {
                        "type": "string",
                        "enum": [
                          "constant",
                          "variable"
                        ],
                        "description": "Whether the video uses constant (CFR) or variable (VFR) frame rate"
                      },
                      "scan_type": {
                        "type": "string",
                        "enum": [
                          "progressive",
                          "interlaced"
                        ],
                        "description": "Scan type of the video"
                      },
                      "color_space": {
                        "type": "string",
                        "enum": [
                          "rec709",
                          "rec2020",
                          "rec2100",
                          "srgb",
                          "dci_p3"
                        ],
                        "description": "Color space of the video"
                      },
                      "hdr_format": {
                        "type": "string",
                        "enum": [
                          "sdr",
                          "hdr10",
                          "hdr10_plus",
                          "hlg",
                          "dolby_vision"
                        ],
                        "description": "HDR format if applicable, or 'sdr' for standard dynamic range"
                      },
                      "chroma_subsampling": {
                        "type": "string",
                        "enum": [
                          "4:2:0",
                          "4:2:2",
                          "4:4:4"
                        ],
                        "description": "Chroma subsampling format"
                      },
                      "video_bit_depth": {
                        "type": "integer",
                        "enum": [
                          8,
                          10,
                          12
                        ],
                        "description": "Video bit depth"
                      },
                      "gop_interval_seconds": {
                        "type": "number",
                        "description": "GOP/keyframe interval in seconds"
                      },
                      "gop_type": {
                        "type": "string",
                        "enum": [
                          "closed",
                          "open"
                        ],
                        "description": "GOP structure type"
                      },
                      "moov_atom_position": {
                        "type": "string",
                        "enum": [
                          "start",
                          "end"
                        ],
                        "description": "Position of moov atom in MP4 container"
                      },
                      "has_audio": {
                        "type": "boolean",
                        "description": "Whether the video contains an audio track"
                      },
                      "audio_codec": {
                        "type": "string",
                        "description": "Audio codec used (aac, aac_lc, he_aac, pcm, mp3, ac3, eac3, etc.)"
                      },
                      "audio_sampling_rate_hz": {
                        "type": "integer",
                        "description": "Audio sampling rate in Hz (e.g., 44100, 48000)"
                      },
                      "audio_channels": {
                        "type": "string",
                        "enum": [
                          "mono",
                          "stereo",
                          "5.1",
                          "7.1"
                        ],
                        "description": "Audio channel configuration"
                      },
                      "audio_bit_depth": {
                        "type": "integer",
                        "enum": [
                          16,
                          24,
                          32
                        ],
                        "description": "Audio bit depth"
                      },
                      "audio_bitrate_kbps": {
                        "type": "integer",
                        "description": "Audio bitrate in kilobits per second",
                        "minimum": 1
                      },
                      "audio_loudness_lufs": {
                        "type": "number",
                        "description": "Integrated loudness in LUFS"
                      },
                      "audio_true_peak_dbfs": {
                        "type": "number",
                        "description": "True peak level in dBFS"
                      },
                      "captions_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to captions file (WebVTT, SRT, etc.)",
                        "x-accessibility": true
                      },
                      "transcript_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to text transcript of the video content",
                        "x-accessibility": true
                      },
                      "audio_description_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to audio description track for visually impaired users",
                        "x-accessibility": true
                      }
                    },
                    "required": [
                      "url",
                      "width",
                      "height"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "Audio Asset",
                    "description": "Audio asset with URL and technical specifications",
                    "type": "object",
                    "properties": {
                      "url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to the audio asset"
                      },
                      "duration_ms": {
                        "type": "integer",
                        "description": "Audio duration in milliseconds",
                        "minimum": 0
                      },
                      "file_size_bytes": {
                        "type": "integer",
                        "description": "File size in bytes",
                        "minimum": 1
                      },
                      "container_format": {
                        "type": "string",
                        "description": "Audio container/file format (mp3, m4a, aac, wav, ogg, flac, etc.)"
                      },
                      "codec": {
                        "type": "string",
                        "description": "Audio codec used (aac, aac_lc, he_aac, pcm, mp3, vorbis, opus, flac, ac3, eac3, etc.)"
                      },
                      "sampling_rate_hz": {
                        "type": "integer",
                        "description": "Sampling rate in Hz (e.g., 44100, 48000, 96000)"
                      },
                      "channels": {
                        "type": "string",
                        "enum": [
                          "mono",
                          "stereo",
                          "5.1",
                          "7.1"
                        ],
                        "description": "Channel configuration"
                      },
                      "bit_depth": {
                        "type": "integer",
                        "enum": [
                          16,
                          24,
                          32
                        ],
                        "description": "Bit depth"
                      },
                      "bitrate_kbps": {
                        "type": "integer",
                        "description": "Bitrate in kilobits per second",
                        "minimum": 1
                      },
                      "loudness_lufs": {
                        "type": "number",
                        "description": "Integrated loudness in LUFS"
                      },
                      "true_peak_dbfs": {
                        "type": "number",
                        "description": "True peak level in dBFS"
                      },
                      "transcript_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL to text transcript of the audio content",
                        "x-accessibility": true
                      }
                    },
                    "required": [
                      "url"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "Text Asset",
                    "description": "Text content asset",
                    "type": "object",
                    "properties": {
                      "content": {
                        "type": "string",
                        "description": "Text content"
                      },
                      "language": {
                        "type": "string",
                        "description": "Language code (e.g., 'en', 'es', 'fr')"
                      }
                    },
                    "required": [
                      "content"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "HTML Asset",
                    "description": "HTML content asset",
                    "type": "object",
                    "properties": {
                      "content": {
                        "type": "string",
                        "description": "HTML content"
                      },
                      "version": {
                        "type": "string",
                        "description": "HTML version (e.g., 'HTML5')"
                      },
                      "accessibility": {
                        "type": "object",
                        "description": "Self-declared accessibility properties for this opaque creative",
                        "x-accessibility": true,
                        "properties": {
                          "alt_text": {
                            "type": "string",
                            "description": "Text alternative describing the creative content"
                          },
                          "keyboard_navigable": {
                            "type": "boolean",
                            "description": "Whether the creative can be fully operated via keyboard"
                          },
                          "motion_control": {
                            "type": "boolean",
                            "description": "Whether the creative respects prefers-reduced-motion or provides pause/stop controls"
                          },
                          "screen_reader_tested": {
                            "type": "boolean",
                            "description": "Whether the creative has been tested with screen readers"
                          }
                        }
                      }
                    },
                    "required": [
                      "content"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "CSS Asset",
                    "description": "CSS stylesheet asset",
                    "type": "object",
                    "properties": {
                      "content": {
                        "type": "string",
                        "description": "CSS content"
                      },
                      "media": {
                        "type": "string",
                        "description": "CSS media query context (e.g., 'screen', 'print')"
                      }
                    },
                    "required": [
                      "content"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "JavaScript Asset",
                    "description": "JavaScript code asset",
                    "type": "object",
                    "properties": {
                      "content": {
                        "type": "string",
                        "description": "JavaScript content"
                      },
                      "module_type": {
                        "title": "JavaScript Module Type",
                        "description": "JavaScript module type",
                        "type": "string",
                        "enum": [
                          "esm",
                          "commonjs",
                          "script"
                        ]
                      },
                      "accessibility": {
                        "type": "object",
                        "description": "Self-declared accessibility properties for this opaque creative",
                        "x-accessibility": true,
                        "properties": {
                          "alt_text": {
                            "type": "string",
                            "description": "Text alternative describing the creative content"
                          },
                          "keyboard_navigable": {
                            "type": "boolean",
                            "description": "Whether the creative can be fully operated via keyboard"
                          },
                          "motion_control": {
                            "type": "boolean",
                            "description": "Whether the creative respects prefers-reduced-motion or provides pause/stop controls"
                          },
                          "screen_reader_tested": {
                            "type": "boolean",
                            "description": "Whether the creative has been tested with screen readers"
                          }
                        }
                      }
                    },
                    "required": [
                      "content"
                    ],
                    "additionalProperties": true
                  },
                  {
                    "title": "VAST Asset",
                    "description": "VAST (Video Ad Serving Template) tag for third-party video ad serving",
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "delivery_type": {
                            "type": "string",
                            "const": "url",
                            "description": "Discriminator indicating VAST is delivered via URL endpoint"
                          },
                          "url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL endpoint that returns VAST XML"
                          },
                          "vast_version": {
                            "title": "VAST Version",
                            "description": "VAST specification version",
                            "type": "string",
                            "enum": [
                              "2.0",
                              "3.0",
                              "4.0",
                              "4.1",
                              "4.2"
                            ]
                          },
                          "vpaid_enabled": {
                            "type": "boolean",
                            "description": "Whether VPAID (Video Player-Ad Interface Definition) is supported"
                          },
                          "duration_ms": {
                            "type": "integer",
                            "description": "Expected video duration in milliseconds (if known)",
                            "minimum": 0
                          },
                          "tracking_events": {
                            "type": "array",
                            "items": {
                              "title": "VAST Tracking Event",
                              "description": "Standard VAST tracking events for video ad playback and interaction",
                              "type": "string",
                              "enum": [
                                "start",
                                "firstQuartile",
                                "midpoint",
                                "thirdQuartile",
                                "complete",
                                "impression",
                                "click",
                                "pause",
                                "resume",
                                "skip",
                                "mute",
                                "unmute",
                                "fullscreen",
                                "exitFullscreen",
                                "playerExpand",
                                "playerCollapse"
                              ]
                            },
                            "description": "Tracking events supported by this VAST tag"
                          },
                          "captions_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to captions file (WebVTT, SRT, etc.)",
                            "x-accessibility": true
                          },
                          "audio_description_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to audio description track for visually impaired users",
                            "x-accessibility": true
                          }
                        },
                        "required": [
                          "delivery_type",
                          "url"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "delivery_type": {
                            "type": "string",
                            "const": "inline",
                            "description": "Discriminator indicating VAST is delivered as inline XML content"
                          },
                          "content": {
                            "type": "string",
                            "description": "Inline VAST XML content"
                          },
                          "vast_version": {
                            "title": "VAST Version",
                            "description": "VAST specification version",
                            "type": "string",
                            "enum": [
                              "2.0",
                              "3.0",
                              "4.0",
                              "4.1",
                              "4.2"
                            ]
                          },
                          "vpaid_enabled": {
                            "type": "boolean",
                            "description": "Whether VPAID (Video Player-Ad Interface Definition) is supported"
                          },
                          "duration_ms": {
                            "type": "integer",
                            "description": "Expected video duration in milliseconds (if known)",
                            "minimum": 0
                          },
                          "tracking_events": {
                            "type": "array",
                            "items": {
                              "title": "VAST Tracking Event",
                              "description": "Standard VAST tracking events for video ad playback and interaction",
                              "type": "string",
                              "enum": [
                                "start",
                                "firstQuartile",
                                "midpoint",
                                "thirdQuartile",
                                "complete",
                                "impression",
                                "click",
                                "pause",
                                "resume",
                                "skip",
                                "mute",
                                "unmute",
                                "fullscreen",
                                "exitFullscreen",
                                "playerExpand",
                                "playerCollapse"
                              ]
                            },
                            "description": "Tracking events supported by this VAST tag"
                          },
                          "captions_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to captions file (WebVTT, SRT, etc.)",
                            "x-accessibility": true
                          },
                          "audio_description_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to audio description track for visually impaired users",
                            "x-accessibility": true
                          }
                        },
                        "required": [
                          "delivery_type",
                          "content"
                        ],
                        "additionalProperties": true
                      }
                    ]
                  },
                  {
                    "title": "DAAST Asset",
                    "description": "DAAST (Digital Audio Ad Serving Template) tag for third-party audio ad serving",
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "delivery_type": {
                            "type": "string",
                            "const": "url",
                            "description": "Discriminator indicating DAAST is delivered via URL endpoint"
                          },
                          "url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL endpoint that returns DAAST XML"
                          },
                          "daast_version": {
                            "title": "DAAST Version",
                            "description": "DAAST specification version",
                            "type": "string",
                            "enum": [
                              "1.0",
                              "1.1"
                            ]
                          },
                          "duration_ms": {
                            "type": "integer",
                            "description": "Expected audio duration in milliseconds (if known)",
                            "minimum": 0
                          },
                          "tracking_events": {
                            "type": "array",
                            "items": {
                              "title": "DAAST Tracking Event",
                              "description": "Standard DAAST tracking events for audio ad playback and interaction",
                              "type": "string",
                              "enum": [
                                "start",
                                "firstQuartile",
                                "midpoint",
                                "thirdQuartile",
                                "complete",
                                "impression",
                                "pause",
                                "resume",
                                "skip",
                                "mute",
                                "unmute"
                              ]
                            },
                            "description": "Tracking events supported by this DAAST tag"
                          },
                          "companion_ads": {
                            "type": "boolean",
                            "description": "Whether companion display ads are included"
                          },
                          "transcript_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to text transcript of the audio content",
                            "x-accessibility": true
                          }
                        },
                        "required": [
                          "delivery_type",
                          "url"
                        ],
                        "additionalProperties": true
                      },
                      {
                        "type": "object",
                        "properties": {
                          "delivery_type": {
                            "type": "string",
                            "const": "inline",
                            "description": "Discriminator indicating DAAST is delivered as inline XML content"
                          },
                          "content": {
                            "type": "string",
                            "description": "Inline DAAST XML content"
                          },
                          "daast_version": {
                            "title": "DAAST Version",
                            "description": "DAAST specification version",
                            "type": "string",
                            "enum": [
                              "1.0",
                              "1.1"
                            ]
                          },
                          "duration_ms": {
                            "type": "integer",
                            "description": "Expected audio duration in milliseconds (if known)",
                            "minimum": 0
                          },
                          "tracking_events": {
                            "type": "array",
                            "items": {
                              "title": "DAAST Tracking Event",
                              "description": "Standard DAAST tracking events for audio ad playback and interaction",
                              "type": "string",
                              "enum": [
                                "start",
                                "firstQuartile",
                                "midpoint",
                                "thirdQuartile",
                                "complete",
                                "impression",
                                "pause",
                                "resume",
                                "skip",
                                "mute",
                                "unmute"
                              ]
                            },
                            "description": "Tracking events supported by this DAAST tag"
                          },
                          "companion_ads": {
                            "type": "boolean",
                            "description": "Whether companion display ads are included"
                          },
                          "transcript_url": {
                            "type": "string",
                            "format": "uri",
                            "description": "URL to text transcript of the audio content",
                            "x-accessibility": true
                          }
                        },
                        "required": [
                          "delivery_type",
                          "content"
                        ],
                        "additionalProperties": true
                      }
                    ]
                  },
                  {
                    "title": "Promoted Offerings",
                    "description": "Complete offering specification combining brand reference, product selectors, and optional SI agent endpoint. Provides all context needed for creative generation and/or conversational experiences about what is being promoted. When si_agent_url is present, hosts can connect users to conversational experiences about any of the offerings.",
                    "type": "object",
                    "properties": {
                      "brand": {
                        "title": "Brand Reference",
                        "description": "Brand reference. Resolved to full brand identity (logos, colors, tone, assets) at execution time for creative generation.",
                        "type": "object",
                        "properties": {
                          "domain": {
                            "type": "string",
                            "description": "Domain where /.well-known/brand.json is hosted, or the brand's operating domain",
                            "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                          },
                          "brand_id": {
                            "title": "Brand ID",
                            "description": "Brand identifier within the house portfolio. Optional for single-brand domains.",
                            "type": "string",
                            "pattern": "^[a-z0-9_]+$",
                            "examples": [
                              "tide",
                              "cheerios",
                              "air_jordan",
                              "nike",
                              "pampers"
                            ]
                          }
                        },
                        "required": [
                          "domain"
                        ],
                        "additionalProperties": false,
                        "examples": [
                          {
                            "domain": "pg.com",
                            "brand_id": "tide"
                          },
                          {
                            "domain": "nikeinc.com",
                            "brand_id": "air_jordan"
                          },
                          {
                            "domain": "bobsburgers.com"
                          }
                        ]
                      },
                      "si_agent_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "MCP endpoint URL for the brand's SI agent. When present, hosts can connect users to conversational experiences about any of the offerings. The agent handles si_get_offering lookups and full conversations."
                      },
                      "product_selectors": {
                        "title": "Promoted Products",
                        "description": "Selectors to choose which products/offerings from the brand's product catalog to promote",
                        "type": "object",
                        "properties": {
                          "manifest_gtins": {
                            "type": "array",
                            "description": "GTIN product identifiers for cross-retailer catalog matching. Accepts standard GTIN formats (GTIN-8, UPC-A/GTIN-12, EAN-13/GTIN-13, GTIN-14).",
                            "items": {
                              "type": "string",
                              "pattern": "^[0-9]{8,14}$"
                            }
                          },
                          "manifest_skus": {
                            "type": "array",
                            "description": "Direct product SKU references from the brand's product catalog",
                            "items": {
                              "type": "string"
                            }
                          },
                          "manifest_tags": {
                            "type": "array",
                            "description": "Select products by tags from the brand's product catalog (e.g., 'organic', 'sauces', 'holiday')",
                            "items": {
                              "type": "string"
                            }
                          },
                          "manifest_category": {
                            "type": "string",
                            "description": "Select products from a specific category in the brand's product catalog (e.g., 'beverages/soft-drinks', 'food/sauces')"
                          },
                          "manifest_query": {
                            "type": "string",
                            "description": "Natural language query to select products from the brand's catalog (e.g., 'all pasta sauces', 'organic products under $20')"
                          }
                        },
                        "minProperties": 1,
                        "additionalProperties": true,
                        "examples": [
                          {
                            "description": "Cross-retailer GTIN matching for commerce media product discovery",
                            "data": {
                              "manifest_gtins": [
                                "00013000006040",
                                "00013000006057"
                              ]
                            }
                          },
                          {
                            "description": "Direct SKU selection for specific products from brand catalog",
                            "data": {
                              "manifest_skus": [
                                "SKU-12345",
                                "SKU-67890"
                              ]
                            }
                          },
                          {
                            "description": "UNION selection: products tagged 'organic' OR 'sauces' OR in 'food/condiments' category from brand catalog",
                            "data": {
                              "manifest_tags": [
                                "organic",
                                "sauces"
                              ],
                              "manifest_category": "food/condiments"
                            }
                          },
                          {
                            "description": "Natural language product selection from brand catalog",
                            "data": {
                              "manifest_query": "all Kraft Heinz pasta sauces under $5"
                            }
                          },
                          {
                            "description": "Select products by tags",
                            "data": {
                              "manifest_tags": [
                                "holiday"
                              ]
                            }
                          }
                        ]
                      },
                      "offerings": {
                        "type": "array",
                        "description": "Offerings available for promotion. Each offering can include creative assets (via portfolio_ref or inline assets) for traditional ads. When si_agent_url is set at the parent level, hosts can offer conversational experiences about any of these offerings.",
                        "items": {
                          "title": "Offering",
                          "description": "A promotable offering from a brand. Can represent a campaign, product promotion, service, or any other thing the brand wants to make available. Offerings can be promoted via traditional creatives (using portfolio_ref or assets) or conversational SI experiences (via si_agent_url at the promoted-offerings level).",
                          "type": "object",
                          "properties": {
                            "offering_id": {
                              "type": "string",
                              "description": "Unique identifier for this offering. Used by hosts to reference specific offerings in si_get_offering calls."
                            },
                            "name": {
                              "type": "string",
                              "description": "Human-readable offering name (e.g., 'Winter Sale', 'Free Trial', 'Enterprise Platform')"
                            },
                            "description": {
                              "type": "string",
                              "description": "Description of what's being offered"
                            },
                            "tagline": {
                              "type": "string",
                              "description": "Short promotional tagline for the offering"
                            },
                            "valid_from": {
                              "type": "string",
                              "format": "date-time",
                              "description": "When the offering becomes available. If not specified, offering is immediately available."
                            },
                            "valid_to": {
                              "type": "string",
                              "format": "date-time",
                              "description": "When the offering expires. If not specified, offering has no expiration."
                            },
                            "checkout_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL for checkout/purchase flow when the brand doesn't support agentic checkout."
                            },
                            "landing_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "Landing page URL for this offering."
                            },
                            "assets": {
                              "type": "array",
                              "description": "Assets specific to this offering (images, videos, copy)",
                              "items": {
                                "type": "object",
                                "description": "Asset definition using standard asset structure",
                                "additionalProperties": true
                              }
                            },
                            "portfolio_ref": {
                              "type": "string",
                              "format": "uri",
                              "description": "Reference to a creative portfolio for this offering. Portfolios contain organized creative assets across formats, enabling consistent ad delivery for this specific offering."
                            },
                            "keywords": {
                              "type": "array",
                              "description": "Keywords for matching this offering to user intent. Hosts use these for retrieval/relevance scoring.",
                              "items": {
                                "type": "string"
                              }
                            },
                            "categories": {
                              "type": "array",
                              "description": "Categories this offering belongs to (e.g., 'measurement', 'identity', 'programmatic')",
                              "items": {
                                "type": "string"
                              }
                            },
                            "ext": {
                              "title": "Extension Object",
                              "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                              "type": "object",
                              "additionalProperties": true
                            }
                          },
                          "required": [
                            "offering_id",
                            "name"
                          ],
                          "additionalProperties": true,
                          "examples": [
                            {
                              "description": "Time-limited promotional offer with checkout",
                              "data": {
                                "offering_id": "q1-2025-trial",
                                "name": "Free 30-day trial",
                                "description": "Try our carbon measurement platform free for 30 days",
                                "tagline": "Start measuring your digital carbon footprint today",
                                "valid_from": "2025-01-01T00:00:00Z",
                                "valid_to": "2025-03-31T23:59:59Z",
                                "checkout_url": "https://scope3.com/signup",
                                "keywords": [
                                  "carbon",
                                  "sustainability",
                                  "measurement",
                                  "emissions"
                                ],
                                "categories": [
                                  "measurement",
                                  "sustainability"
                                ]
                              }
                            },
                            {
                              "description": "Product offering with landing page",
                              "data": {
                                "offering_id": "enterprise-dsp",
                                "name": "Enterprise DSP Platform",
                                "description": "Full-featured demand-side platform for enterprise advertisers",
                                "landing_url": "https://thetradedesk.com/enterprise",
                                "keywords": [
                                  "dsp",
                                  "programmatic",
                                  "rtb",
                                  "ctv"
                                ],
                                "categories": [
                                  "programmatic",
                                  "dsp"
                                ]
                              }
                            },
                            {
                              "description": "Offering with creative portfolio",
                              "data": {
                                "offering_id": "summer-sale-2025",
                                "name": "Summer Sale",
                                "description": "Up to 50% off summer collection",
                                "valid_from": "2025-06-01T00:00:00Z",
                                "valid_to": "2025-08-31T23:59:59Z",
                                "landing_url": "https://brand.com/summer-sale",
                                "portfolio_ref": "https://brand.com/portfolios/summer-2025.json"
                              }
                            },
                            {
                              "description": "Offering with inline assets",
                              "data": {
                                "offering_id": "product-launch",
                                "name": "New Product Launch",
                                "description": "Introducing our latest innovation",
                                "assets": [
                                  {
                                    "asset_id": "launch-hero",
                                    "asset_type": "image",
                                    "url": "https://cdn.brand.com/launch-hero.jpg"
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      "asset_selectors": {
                        "type": "object",
                        "description": "Selectors to choose specific assets from the brand's asset library",
                        "properties": {
                          "tags": {
                            "type": "array",
                            "description": "Select assets with specific tags (e.g., ['holiday', 'premium'])",
                            "items": {
                              "type": "string"
                            }
                          },
                          "asset_types": {
                            "type": "array",
                            "description": "Filter by asset type (e.g., ['image', 'video'])",
                            "items": {
                              "type": "string",
                              "enum": [
                                "image",
                                "video",
                                "audio",
                                "vast",
                                "daast",
                                "text",
                                "url",
                                "html",
                                "css",
                                "javascript",
                                "webhook"
                              ]
                            }
                          },
                          "exclude_tags": {
                            "type": "array",
                            "description": "Exclude assets with these tags",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "additionalProperties": true
                      }
                    },
                    "required": [
                      "brand"
                    ],
                    "additionalProperties": true,
                    "examples": [
                      {
                        "description": "Traditional creative offering (no SI)",
                        "data": {
                          "brand": {
                            "domain": "acmecorp.com"
                          },
                          "product_selectors": {
                            "manifest_skus": [
                              "SKU-123",
                              "SKU-456"
                            ]
                          },
                          "asset_selectors": {
                            "tags": [
                              "holiday"
                            ],
                            "asset_types": [
                              "image",
                              "video"
                            ]
                          }
                        }
                      },
                      {
                        "description": "Offerings with SI agent for conversational experiences",
                        "data": {
                          "brand": {
                            "domain": "acmecorp.com"
                          },
                          "si_agent_url": "https://agent.acmecorp.com/mcp",
                          "offerings": [
                            {
                              "offering_id": "q1-2025-trial",
                              "name": "Free 30-day trial",
                              "description": "Try our platform free for 30 days",
                              "valid_from": "2025-01-01T00:00:00Z",
                              "valid_to": "2025-03-31T23:59:59Z",
                              "checkout_url": "https://acmecorp.com/signup"
                            },
                            {
                              "offering_id": "standard-product",
                              "name": "Enterprise Platform",
                              "description": "Our flagship enterprise solution",
                              "landing_url": "https://acmecorp.com/enterprise"
                            }
                          ]
                        }
                      },
                      {
                        "description": "Offerings with both creatives and SI",
                        "data": {
                          "brand": {
                            "domain": "pg.com",
                            "brand_id": "tide"
                          },
                          "si_agent_url": "https://agent.tide.com/mcp",
                          "offerings": [
                            {
                              "offering_id": "summer-campaign",
                              "name": "Summer Sale",
                              "description": "Up to 50% off summer collection",
                              "landing_url": "https://tide.com/summer",
                              "portfolio_ref": "https://tide.com/portfolios/summer-2025.json"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "title": "URL Asset",
                    "description": "URL reference asset",
                    "type": "object",
                    "properties": {
                      "url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL reference"
                      },
                      "url_type": {
                        "title": "URL Asset Type",
                        "description": "Type of URL asset: 'clickthrough' for user click destination (landing page), 'tracker_pixel' for impression/event tracking via HTTP request (fires GET, expects pixel/204 response), 'tracker_script' for measurement SDKs that must load as <script> tag (OMID verification, native event trackers using method:2)",
                        "type": "string",
                        "enum": [
                          "clickthrough",
                          "tracker_pixel",
                          "tracker_script"
                        ]
                      },
                      "description": {
                        "type": "string",
                        "description": "Description of what this URL points to"
                      }
                    },
                    "required": [
                      "url"
                    ],
                    "additionalProperties": true
                  }
                ]
              }
            },
            "additionalProperties": true
          },
          "inputs": {
            "type": "array",
            "description": "Preview contexts for generative formats - defines what scenarios to generate previews for",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Human-readable name for this preview variant"
                },
                "macros": {
                  "type": "object",
                  "description": "Macro values to apply for this preview",
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "context_description": {
                  "type": "string",
                  "description": "Natural language description of the context for AI-generated content"
                }
              },
              "required": [
                "name"
              ],
              "additionalProperties": true
            }
          },
          "tags": {
            "type": "array",
            "description": "User-defined tags for organization and searchability",
            "items": {
              "type": "string"
            }
          },
          "status": {
            "title": "Creative Status",
            "description": "For generative creatives: set to 'approved' to finalize, 'rejected' to request regeneration with updated assets/message. Omit for non-generative creatives (system will set based on processing state).",
            "type": "string",
            "enum": [
              "processing",
              "approved",
              "rejected",
              "pending_review",
              "archived"
            ],
            "enumDescriptions": {
              "processing": "Creative is being processed or transcoded",
              "approved": "Creative has been approved and is ready for delivery",
              "rejected": "Creative has been rejected due to policy or technical issues",
              "pending_review": "Creative is under review",
              "archived": "Creative has been archived and is excluded from default queries"
            }
          },
          "weight": {
            "type": "number",
            "description": "Optional delivery weight for creative rotation when uploading via create_media_buy or update_media_buy (0-100). If omitted, platform determines rotation. Only used during upload to media buy - not stored in creative library.",
            "minimum": 0,
            "maximum": 100
          },
          "placement_ids": {
            "type": "array",
            "description": "Optional array of placement IDs where this creative should run when uploading via create_media_buy or update_media_buy. References placement_id values from the product's placements array. If omitted, creative runs on all placements. Only used during upload to media buy - not stored in creative library.",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "creative_id",
          "name",
          "format_id",
          "assets"
        ],
        "additionalProperties": true
      },
      "minItems": 1,
      "maxItems": 100
    },
    "creative_ids": {
      "type": "array",
      "description": "Optional filter to limit sync scope to specific creative IDs. When provided, only these creatives will be created/updated. Other creatives in the library are unaffected. Useful for partial updates and error recovery.",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "maxItems": 100
    },
    "assignments": {
      "type": "object",
      "description": "Optional bulk assignment of creatives to packages",
      "patternProperties": {
        "^[a-zA-Z0-9_-]+$": {
          "type": "array",
          "description": "Array of package IDs to assign this creative to",
          "items": {
            "type": "string"
          }
        }
      },
      "additionalProperties": true
    },
    "delete_missing": {
      "type": "boolean",
      "default": false,
      "description": "When true, creatives not included in this sync will be archived. Use with caution for full library replacement."
    },
    "dry_run": {
      "type": "boolean",
      "default": false,
      "description": "When true, preview changes without applying them. Returns what would be created/updated/deleted."
    },
    "validation_mode": {
      "title": "Validation Mode",
      "description": "Validation strictness. 'strict' fails entire sync on any validation error. 'lenient' processes valid creatives and reports errors.",
      "type": "string",
      "enum": [
        "strict",
        "lenient"
      ],
      "default": "strict"
    },
    "push_notification_config": {
      "title": "Push Notification Config",
      "description": "Optional webhook configuration for async sync notifications. Publisher will send webhook when sync completes if operation takes longer than immediate response time (typically for large bulk operations or manual approval/HITL).",
      "type": "object",
      "properties": {
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Webhook endpoint URL for task status notifications"
        },
        "token": {
          "type": "string",
          "description": "Optional client-provided token for webhook validation. Echoed back in webhook payload to validate request authenticity.",
          "minLength": 16
        },
        "authentication": {
          "type": "object",
          "description": "Authentication configuration for webhook delivery (A2A-compatible)",
          "properties": {
            "schemes": {
              "type": "array",
              "description": "Array of authentication schemes. Supported: ['Bearer'] for simple token auth, ['HMAC-SHA256'] for signature verification (recommended for production)",
              "items": {
                "title": "Authentication Scheme",
                "description": "Authentication schemes for push notification endpoints",
                "type": "string",
                "enum": [
                  "Bearer",
                  "HMAC-SHA256"
                ]
              },
              "minItems": 1,
              "maxItems": 1
            },
            "credentials": {
              "type": "string",
              "description": "Credentials for authentication. For Bearer: token sent in Authorization header. For HMAC-SHA256: shared secret used to generate signature. Minimum 32 characters. Exchanged out-of-band during onboarding.",
              "minLength": 32
            }
          },
          "required": [
            "schemes",
            "credentials"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "url",
        "authentication"
      ]
    },
    "context": {
      "title": "Context Object",
      "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
      "type": "object",
      "additionalProperties": true
    },
    "ext": {
      "title": "Extension Object",
      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "creatives"
  ],
  "additionalProperties": true,
  "examples": [
    {
      "description": "Full sync with hosted video creative",
      "data": {
        "creatives": [
          {
            "creative_id": "hero_video_30s",
            "name": "Brand Hero Video 30s",
            "format_id": {
              "agent_url": "https://creative.adcontextprotocol.org",
              "id": "video_standard_30s"
            },
            "assets": {
              "video": {
                "url": "https://cdn.example.com/hero-video.mp4",
                "width": 1920,
                "height": 1080,
                "duration_ms": 30000
              }
            },
            "tags": [
              "q1_2024",
              "video"
            ]
          }
        ],
        "assignments": {
          "hero_video_30s": [
            "pkg_ctv_001",
            "pkg_ctv_002"
          ]
        }
      }
    },
    {
      "description": "Generative creative with approval",
      "data": {
        "creatives": [
          {
            "creative_id": "holiday_hero",
            "name": "Holiday Campaign Hero",
            "format_id": {
              "agent_url": "https://publisher.com/.well-known/adcp/sales",
              "id": "premium_bespoke_display"
            },
            "assets": {
              "promoted_offerings": {
                "brand": {
                  "domain": "acmeretailer.com"
                }
              },
              "generation_prompt": {
                "content": "Create a warm, festive holiday campaign featuring winter products"
              }
            },
            "tags": [
              "holiday",
              "q4_2024"
            ]
          }
        ]
      }
    },
    {
      "description": "Scoped update using creative_ids filter",
      "data": {
        "creative_ids": [
          "hero_video_30s",
          "banner_300x250"
        ],
        "creatives": [
          {
            "creative_id": "hero_video_30s",
            "name": "Brand Hero Video 30s - Updated",
            "format_id": {
              "agent_url": "https://creative.adcontextprotocol.org",
              "id": "video_standard_30s"
            },
            "assets": {
              "video": {
                "url": "https://cdn.example.com/updated-hero.mp4",
                "width": 1920,
                "height": 1080,
                "duration_ms": 30000
              }
            }
          },
          {
            "creative_id": "banner_300x250",
            "name": "Display Banner 300x250 - Updated",
            "format_id": {
              "agent_url": "https://creative.adcontextprotocol.org",
              "id": "display_300x250"
            },
            "assets": {
              "image": {
                "url": "https://cdn.example.com/updated-banner.png",
                "width": 300,
                "height": 250
              }
            }
          }
        ]
      }
    }
  ],
  "_bundled": {
    "generatedAt": "2026-02-18T07:46:11.728Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}