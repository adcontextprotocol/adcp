{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.2/bundled/core/tasks-list-request.json",
  "title": "Tasks List Request",
  "description": "Request parameters for listing and filtering async tasks across all AdCP domains with state reconciliation capabilities",
  "type": "object",
  "properties": {
    "filters": {
      "type": "object",
      "description": "Filter criteria for querying tasks",
      "properties": {
        "domain": {
          "title": "AdCP Domain",
          "description": "Filter by single AdCP domain",
          "type": "string",
          "enum": [
            "media-buy",
            "signals",
            "governance",
            "creative"
          ],
          "enumDescriptions": {
            "media-buy": "Campaign creation, package management, and delivery optimization",
            "signals": "Audience signal discovery and activation",
            "governance": "Property governance (identity, authorization, data, selection), brand standards, and compliance",
            "creative": "Creative asset management, format discovery, and rendering"
          }
        },
        "domains": {
          "type": "array",
          "description": "Filter by multiple AdCP domains",
          "items": {
            "title": "AdCP Domain",
            "description": "AdCP protocol domains for task categorization",
            "type": "string",
            "enum": [
              "media-buy",
              "signals",
              "governance",
              "creative"
            ],
            "enumDescriptions": {
              "media-buy": "Campaign creation, package management, and delivery optimization",
              "signals": "Audience signal discovery and activation",
              "governance": "Property governance (identity, authorization, data, selection), brand standards, and compliance",
              "creative": "Creative asset management, format discovery, and rendering"
            }
          }
        },
        "status": {
          "title": "Task Status",
          "description": "Filter by single task status",
          "type": "string",
          "enum": [
            "submitted",
            "working",
            "input-required",
            "completed",
            "canceled",
            "failed",
            "rejected",
            "auth-required",
            "unknown"
          ],
          "enumDescriptions": {
            "submitted": "Task accepted and queued for long-running execution (hours to days). Client should poll with tasks/get or provide webhook_url at protocol level.",
            "working": "Agent is actively processing the task, expect completion within 120 seconds",
            "input-required": "Task is paused and waiting for input from the user (e.g., clarification, approval)",
            "completed": "Task has been successfully completed",
            "canceled": "Task was canceled by the user",
            "failed": "Task failed due to an error during execution",
            "rejected": "Task was rejected by the agent and was not started",
            "auth-required": "Task requires authentication to proceed",
            "unknown": "Task is in an unknown or indeterminate state"
          }
        },
        "statuses": {
          "type": "array",
          "description": "Filter by multiple task statuses",
          "items": {
            "title": "Task Status",
            "description": "Standardized task status values based on A2A TaskState enum. Indicates the current state of any AdCP operation.",
            "type": "string",
            "enum": [
              "submitted",
              "working",
              "input-required",
              "completed",
              "canceled",
              "failed",
              "rejected",
              "auth-required",
              "unknown"
            ],
            "enumDescriptions": {
              "submitted": "Task accepted and queued for long-running execution (hours to days). Client should poll with tasks/get or provide webhook_url at protocol level.",
              "working": "Agent is actively processing the task, expect completion within 120 seconds",
              "input-required": "Task is paused and waiting for input from the user (e.g., clarification, approval)",
              "completed": "Task has been successfully completed",
              "canceled": "Task was canceled by the user",
              "failed": "Task failed due to an error during execution",
              "rejected": "Task was rejected by the agent and was not started",
              "auth-required": "Task requires authentication to proceed",
              "unknown": "Task is in an unknown or indeterminate state"
            }
          }
        },
        "task_type": {
          "title": "Task Type",
          "description": "Filter by single task type",
          "type": "string",
          "enum": [
            "create_media_buy",
            "update_media_buy",
            "sync_creatives",
            "activate_signal",
            "get_signals",
            "create_property_list",
            "update_property_list",
            "get_property_list",
            "list_property_lists",
            "delete_property_list"
          ],
          "enumDescriptions": {
            "create_media_buy": "Media-buy domain: Create a new advertising campaign with one or more packages",
            "update_media_buy": "Media-buy domain: Update campaign settings, package configuration, or delivery parameters",
            "sync_creatives": "Media-buy domain: Sync creative assets to publisher's library with upsert semantics",
            "activate_signal": "Signals domain: Activate an audience signal on a specific platform or account",
            "get_signals": "Signals domain: Discover available audience signals based on natural language description",
            "create_property_list": "Property domain: Create a new property list with filters and brand manifest",
            "update_property_list": "Property domain: Update an existing property list",
            "get_property_list": "Property domain: Retrieve a property list with resolved properties",
            "list_property_lists": "Property domain: List all accessible property lists",
            "delete_property_list": "Property domain: Delete a property list"
          },
          "notes": [
            "Task types map to specific AdCP task operations",
            "Each task type belongs to the 'media-buy', 'signals', 'property', or 'creative' domain",
            "This enum is used in task management APIs (tasks/list, tasks/get) and webhook payloads",
            "New task types require a minor version bump per semantic versioning"
          ]
        },
        "task_types": {
          "type": "array",
          "description": "Filter by multiple task types",
          "items": {
            "title": "Task Type",
            "description": "Valid AdCP task types across all domains. These represent the complete set of operations that can be tracked via the task management system.",
            "type": "string",
            "enum": [
              "create_media_buy",
              "update_media_buy",
              "sync_creatives",
              "activate_signal",
              "get_signals",
              "create_property_list",
              "update_property_list",
              "get_property_list",
              "list_property_lists",
              "delete_property_list"
            ],
            "enumDescriptions": {
              "create_media_buy": "Media-buy domain: Create a new advertising campaign with one or more packages",
              "update_media_buy": "Media-buy domain: Update campaign settings, package configuration, or delivery parameters",
              "sync_creatives": "Media-buy domain: Sync creative assets to publisher's library with upsert semantics",
              "activate_signal": "Signals domain: Activate an audience signal on a specific platform or account",
              "get_signals": "Signals domain: Discover available audience signals based on natural language description",
              "create_property_list": "Property domain: Create a new property list with filters and brand manifest",
              "update_property_list": "Property domain: Update an existing property list",
              "get_property_list": "Property domain: Retrieve a property list with resolved properties",
              "list_property_lists": "Property domain: List all accessible property lists",
              "delete_property_list": "Property domain: Delete a property list"
            },
            "notes": [
              "Task types map to specific AdCP task operations",
              "Each task type belongs to the 'media-buy', 'signals', 'property', or 'creative' domain",
              "This enum is used in task management APIs (tasks/list, tasks/get) and webhook payloads",
              "New task types require a minor version bump per semantic versioning"
            ]
          }
        },
        "created_after": {
          "type": "string",
          "format": "date-time",
          "description": "Filter tasks created after this date (ISO 8601)"
        },
        "created_before": {
          "type": "string",
          "format": "date-time",
          "description": "Filter tasks created before this date (ISO 8601)"
        },
        "updated_after": {
          "type": "string",
          "format": "date-time",
          "description": "Filter tasks last updated after this date (ISO 8601)"
        },
        "updated_before": {
          "type": "string",
          "format": "date-time",
          "description": "Filter tasks last updated before this date (ISO 8601)"
        },
        "task_ids": {
          "type": "array",
          "description": "Filter by specific task IDs",
          "items": {
            "type": "string"
          },
          "maxItems": 100
        },
        "context_contains": {
          "type": "string",
          "description": "Filter tasks where context contains this text (searches buyer_ref, media_buy_id, signal_id, etc.)"
        },
        "has_webhook": {
          "type": "boolean",
          "description": "Filter tasks that have webhook configuration when true"
        }
      },
      "additionalProperties": true
    },
    "sort": {
      "type": "object",
      "description": "Sorting parameters",
      "properties": {
        "field": {
          "type": "string",
          "enum": [
            "created_at",
            "updated_at",
            "status",
            "task_type",
            "domain"
          ],
          "default": "created_at",
          "description": "Field to sort by"
        },
        "direction": {
          "title": "Sort Direction",
          "description": "Sort direction",
          "type": "string",
          "enum": [
            "asc",
            "desc"
          ],
          "default": "desc"
        }
      },
      "additionalProperties": true
    },
    "pagination": {
      "type": "object",
      "description": "Pagination parameters",
      "properties": {
        "limit": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 50,
          "description": "Maximum number of tasks to return"
        },
        "offset": {
          "type": "integer",
          "minimum": 0,
          "default": 0,
          "description": "Number of tasks to skip"
        }
      },
      "additionalProperties": true
    },
    "include_history": {
      "type": "boolean",
      "default": false,
      "description": "Include full conversation history for each task (may significantly increase response size)"
    },
    "context": {
      "title": "Context Object",
      "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
      "type": "object",
      "additionalProperties": true
    },
    "ext": {
      "title": "Extension Object",
      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
      "type": "object",
      "additionalProperties": true
    }
  },
  "additionalProperties": true,
  "examples": [
    {
      "description": "List all pending tasks across domains",
      "data": {
        "filters": {
          "statuses": [
            "submitted",
            "working",
            "input-required"
          ]
        }
      }
    },
    {
      "description": "Find media-buy tasks requiring attention",
      "data": {
        "filters": {
          "domain": "media-buy",
          "statuses": [
            "input-required",
            "failed"
          ]
        },
        "sort": {
          "field": "updated_at",
          "direction": "asc"
        }
      }
    },
    {
      "description": "Recent signal operations",
      "data": {
        "filters": {
          "domain": "signals",
          "created_after": "2025-01-01T00:00:00Z"
        },
        "pagination": {
          "limit": 20
        }
      }
    },
    {
      "description": "State reconciliation for specific campaign",
      "data": {
        "filters": {
          "context_contains": "nike_q1_2025"
        },
        "include_history": true
      }
    }
  ],
  "_bundled": {
    "generatedAt": "2026-02-02T16:29:09.682Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}