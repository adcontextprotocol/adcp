---
sidebar_position: 1
title: list_property_features
---

<Info>
**AdCP 3.0 Proposal** - This task is under development for AdCP 3.0.
</Info>

**Task**: Discover what features a property governance agent can evaluate.

**Response Time**: ~200ms

**Request Schema**: [`https://adcontextprotocol.org/schemas/v1/governance/list-property-features-request.json`](https://adcontextprotocol.org/schemas/v1/governance/list-property-features-request.json)
**Response Schema**: [`https://adcontextprotocol.org/schemas/v1/governance/list-property-features-response.json`](https://adcontextprotocol.org/schemas/v1/governance/list-property-features-response.json)

The `list_property_features` task returns the features a governance agent can evaluate. This is the discovery mechanism for understanding an agent's capabilities before using other governance tasks.

## Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `property_types` | string[] | No | Filter to features available for these property types |
| `countries` | string[] | No | Filter to features available in these countries |

## Response Structure

All AdCP responses include:
- **message**: Human-readable summary of the operation result
- **context_id**: Session continuity identifier for follow-up requests
- **data**: Task-specific payload (see Response Data below)

## Response Data

```json
{
  "features": [
    {
      "feature_id": "consent_quality",
      "name": "Consent Quality Score",
      "description": "Measures the quality of consent implementation including UX, granularity, and compliance",
      "type": "quantitative",
      "range": { "min": 0, "max": 100 },
      "coverage": {
        "property_types": ["website", "mobile_app"],
        "countries": []
      }
    },
    {
      "feature_id": "coppa_certified",
      "name": "COPPA Certified",
      "description": "Whether the property has COPPA certification for child-directed content",
      "type": "binary",
      "coverage": {
        "property_types": ["website", "mobile_app", "ctv_app"],
        "countries": ["US"]
      }
    },
    {
      "feature_id": "content_category",
      "name": "Content Category",
      "description": "IAB content category classification",
      "type": "categorical",
      "allowed_values": ["news", "sports", "entertainment", "kids_family", "technology", "business", "adult", "violence"]
    }
  ]
}
```

### Feature Types

| Type | Description | Schema Fields |
|------|-------------|---------------|
| `binary` | True/false values | None additional |
| `quantitative` | Numeric values within a range | `range: { min, max }` |
| `categorical` | Enumerated string values | `allowed_values: string[]` |

### Coverage

The `coverage` object indicates where a feature applies:
- **property_types**: Empty array means all property types
- **countries**: Empty array means all countries

## Protocol-Specific Examples

### MCP Request

```json
{
  "tool": "list_property_features",
  "arguments": {}
}
```

### MCP Response

```json
{
  "message": "This agent evaluates 12 features across consent, brand safety, and sustainability.",
  "context_id": "ctx-gov-features-123",
  "features": [
    {
      "feature_id": "consent_quality",
      "name": "Consent Quality Score",
      "description": "Measures the quality of consent implementation",
      "type": "quantitative",
      "range": { "min": 0, "max": 100 }
    },
    {
      "feature_id": "tcf_version",
      "name": "TCF Version",
      "description": "IAB Transparency & Consent Framework version supported",
      "type": "categorical",
      "allowed_values": ["none", "tcf_1.1", "tcf_2.0", "tcf_2.2"]
    },
    {
      "feature_id": "coppa_certified",
      "name": "COPPA Certified",
      "description": "Whether property has COPPA certification",
      "type": "binary",
      "coverage": {
        "property_types": ["website", "mobile_app", "ctv_app"],
        "countries": ["US"]
      }
    }
  ]
}
```

### MCP Request - Filtered by Property Type

```json
{
  "tool": "list_property_features",
  "arguments": {
    "property_types": ["mobile_app"]
  }
}
```

### A2A Request

```javascript
await a2a.send({
  message: {
    parts: [{
      kind: "data",
      data: {
        skill: "list_property_features",
        parameters: {}
      }
    }]
  }
});
```

## Example Feature Sets by Agent Type

### Consent/Compliance Agent

```json
{
  "features": [
    { "feature_id": "consent_quality", "type": "quantitative", "range": { "min": 0, "max": 100 } },
    { "feature_id": "tcf_version", "type": "categorical", "allowed_values": ["none", "tcf_2.0", "tcf_2.2"] },
    { "feature_id": "coppa_certified", "type": "binary" },
    { "feature_id": "gpp_supported", "type": "binary" },
    { "feature_id": "vendor_count", "type": "quantitative", "range": { "min": 0, "max": 1000 } }
  ]
}
```

### Sustainability Agent (e.g., Scope3)

```json
{
  "features": [
    { "feature_id": "carbon_score", "type": "quantitative", "range": { "min": 0, "max": 100 } },
    { "feature_id": "green_certified", "type": "binary" },
    { "feature_id": "renewable_hosting", "type": "binary" },
    { "feature_id": "emissions_per_impression", "type": "quantitative", "range": { "min": 0, "max": 100 } }
  ]
}
```

### Brand Safety Agent

```json
{
  "features": [
    { "feature_id": "content_category", "type": "categorical", "allowed_values": ["news", "sports", ...] },
    { "feature_id": "brand_risk_score", "type": "quantitative", "range": { "min": 0, "max": 100 } },
    { "feature_id": "sentiment", "type": "categorical", "allowed_values": ["positive", "neutral", "negative"] },
    { "feature_id": "made_for_advertising", "type": "binary" }
  ]
}
```

## Vendor Extensions

Feature definitions can include vendor-specific data in an `ext` block with vendor-namespaced fields:

```json
{
  "feature_id": "carbon_score",
  "name": "Carbon Emissions Score",
  "type": "quantitative",
  "range": { "min": 0, "max": 100 },
  "methodology_url": "https://scope3.com/methodology",
  "ext": {
    "scope3": {
      "emissions_unit": "gCO2e_per_1000_impressions",
      "model_version": "2024.1",
      "sbti_aligned": true
    }
  }
}
```

Extensions are optional. Buyers should process features normally even if `ext` contains unfamiliar vendors. Each vendor's `methodology_url` documents their extension schema.

## Integration Pattern

Use `list_property_features` to understand agent capabilities before creating property lists:

```python
# Step 1: Discover agent capabilities
features_response = governance_agent.list_property_features()

# Step 2: Build feature_requirements using available features
feature_requirements = []
for feature in features_response.features:
    if feature.feature_id == "consent_quality" and feature.type == "quantitative":
        feature_requirements.append({
            "feature_id": "consent_quality",
            "min_value": 80,
            "max_value": 100
        })
    if feature.feature_id == "coppa_certified" and feature.type == "binary":
        feature_requirements.append({
            "feature_id": "coppa_certified",
            "allowed_values": [True]
        })

# Step 3: Create property list with feature requirements
governance_agent.create_property_list(
    name="Q1 Campaign",
    filters={"feature_requirements": feature_requirements},
    brand_manifest=my_brand_manifest
)
```

## Discovering Governance Agents

Before calling `list_property_features`, you need to know which governance agents to query. There are two discovery mechanisms:

### Via adagents.json (Publisher-Declared)

Publishers declare which governance agents have data about their properties in `property_features` (from their `/.well-known/adagents.json`):

```json
{
  "property_features": [
    {
      "url": "https://api.scope3.com",
      "name": "Scope3",
      "features": ["carbon_score", "sustainability_grade"]
    }
  ]
}
```

This tells buyers: "Scope3 has carbon data for our properties." The buyer then calls `list_property_features` on Scope3 to get detailed feature definitions.

See the [adagents.json Tech Spec](/docs/governance/property/adagents#governance-agent-discovery) for the complete discovery workflow.

### Via Direct Subscription

Buyers may also have direct relationships with governance agents (e.g., a subscription to a compliance vendor). In this case, the buyer already knows which agents to query.

## Usage Notes

1. **Discover first**: Find governance agents via `property_features` in adagents.json before querying
2. **Call early**: Use this task to understand capabilities before other governance tasks
3. **Cache results**: Feature definitions change infrequently; cache for hours/days
4. **Check coverage**: Not all features apply to all property types or countries
5. **Marketplace discovery**: Use this to understand what different governance agents offer
