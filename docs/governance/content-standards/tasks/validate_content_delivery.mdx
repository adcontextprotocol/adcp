---
title: validate_content_delivery
sidebar_position: 4
---

# validate_content_delivery

Validate delivery records against content safety policies. Designed for batch auditing of where ads were actually delivered.

**Response time**: < 10s (batch of 10,000 records)

## Request

**Schema**: [validate-content-delivery-request.json](https://adcontextprotocol.org/schemas/v2/content-standards/validate-content-delivery-request.json)

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `standards_id` | string | Yes | Standards configuration to validate against |
| `records` | array | Yes | Delivery records to validate (max 10,000) |
| `feature_ids` | array | No | Specific features to evaluate (defaults to all) |
| `include_passed` | boolean | No | Include passed records in results (default: true) |

### Delivery Record

```json
{
  "record_id": "imp_12345",
  "timestamp": "2025-01-15T10:30:00Z",
  "content": {
    "url": "https://example.com/article",
    "title": "Article Title",
    "categories": ["news", "sports"]
  },
  "creative_id": "creative_abc"
}
```

## Response

**Schema**: [validate-content-delivery-response.json](https://adcontextprotocol.org/schemas/v2/content-standards/validate-content-delivery-response.json)

### Success Response

```json
{
  "summary": {
    "total_records": 1000,
    "passed_records": 950,
    "failed_records": 50,
    "total_features": 5000,
    "passed_features": 4750,
    "failed_features": 250
  },
  "results": [
    {
      "record_id": "imp_12345",
      "features": [
        {
          "feature_id": "brand_safety",
          "status": "passed",
          "value": "safe"
        },
        {
          "feature_id": "competitor_adjacency",
          "status": "passed",
          "value": false
        }
      ]
    },
    {
      "record_id": "imp_12346",
      "features": [
        {
          "feature_id": "brand_safety",
          "status": "failed",
          "value": "high_risk",
          "message": "Content contains violence",
          "suggestion": "Review placement policies"
        },
        {
          "feature_id": "competitor_adjacency",
          "status": "passed",
          "value": false
        }
      ]
    }
  ]
}
```

## Use Cases

### Post-Campaign Audit

```python
def audit_campaign_delivery(campaign_id, standards_id, content_standards_agent):
    """Audit all delivery records from a campaign."""
    # Fetch delivery records from your ad server
    records = fetch_delivery_records(campaign_id)

    # Validate in batches
    batch_size = 10000
    all_results = []

    for i in range(0, len(records), batch_size):
        batch = records[i:i + batch_size]
        response = content_standards_agent.validate_content_delivery(
            standards_id=standards_id,
            records=batch
        )
        all_results.extend(response["results"])

    return all_results
```

### Real-Time Monitoring Sample

```python
import random

def sample_and_validate(records, standards_id, sample_size=1000):
    """Validate a random sample for real-time monitoring."""
    sample = random.sample(records, min(sample_size, len(records)))
    return content_standards_agent.validate_content_delivery(
        standards_id=standards_id,
        records=sample
    )
```

### Filter for Issues Only

```python
# Only get failed records to reduce response size
response = content_standards_agent.validate_content_delivery(
    standards_id="nike_emea_safety",
    records=delivery_records,
    include_passed=False  # Only return failures
)

for result in response["results"]:
    print(f"Issue with {result['record_id']}")
    for feature in result["features"]:
        if feature["status"] == "failed":
            print(f"  - {feature['feature_id']}: {feature['message']}")
```

## Related Tasks

- [list_content_features](/docs/governance/content-standards/tasks/list_content_features) - Discover available features
- [check_content](/docs/governance/content-standards/tasks/check_content) - Single content check
- [get_content_standards](/docs/governance/content-standards/tasks/get_content_standards) - Retrieve the policies
