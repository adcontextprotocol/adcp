---
title: Sandbox mode
---

## Overview

Every AdCP task supports sandbox mode. Pass `sandbox: true` on any request to run operations without making real platform calls or spending real money. Responses contain simulated but realistic data, letting you test the full media buying lifecycle risk-free.

## Capabilities discovery

Sellers declare sandbox support in `get_adcp_capabilities`:

```json
{
  "media_buy": {
    "features": {
      "sandbox": true
    }
  }
}
```

Check this before sending sandbox requests. If `sandbox` is not declared or is `false`, the seller may reject sandbox requests or ignore the flag.

## Usage

Add `sandbox: true` to any task request:

```json
{
  "brief": "Premium video inventory for Q2 campaign",
  "brand_manifest": "https://acme-corp.com",
  "sandbox": true
}
```

The response echoes the flag:

```json
{
  "products": [...],
  "sandbox": true
}
```

## Full lifecycle example

### 1. Discover products

```json
// get_products
{
  "brief": "CTV inventory for brand awareness",
  "sandbox": true
}
```

### 2. Create a media buy

```json
// create_media_buy
{
  "buyer_ref": "sandbox_test_001",
  "proposal_id": "prop_abc",
  "total_budget": { "amount": 50000, "currency": "USD" },
  "brand_manifest": { "url": "https://acme-corp.com" },
  "start_time": { "start_type": "asap" },
  "end_time": "2026-04-01T00:00:00Z",
  "sandbox": true
}
```

The seller returns a simulated media buy with realistic IDs, packages, and creative deadlines - but nothing is booked on any real platform.

### 3. Upload creatives

```json
// sync_creatives
{
  "creatives": [{
    "creative_id": "hero_video_30s",
    "name": "Brand Hero Video 30s",
    "format_id": {
      "agent_url": "https://creative.adcontextprotocol.org",
      "id": "video_standard_30s"
    },
    "assets": {
      "video": {
        "url": "https://cdn.example.com/hero.mp4",
        "width": 1920,
        "height": 1080,
        "duration_ms": 30000
      }
    }
  }],
  "assignments": {
    "hero_video_30s": ["pkg_001"]
  },
  "sandbox": true
}
```

### 4. Check delivery

```json
// get_media_buy_delivery
{
  "media_buy_ids": ["mb_sandbox_123"],
  "sandbox": true
}
```

The seller returns simulated delivery metrics - impressions, spend, pacing - as if the campaign were running.

## Sandbox vs dry run

Some tasks (`sync_creatives`, `sync_accounts`) also support a `dry_run` parameter. These serve different purposes:

| | `sandbox` | `dry_run` |
|---|---|---|
| **Meaning** | Nothing is real | Preview changes without applying |
| **Scope** | All tasks | sync_creatives, sync_accounts only |
| **Side effects** | None (simulated) | None (preview only) |
| **Use case** | Test the full lifecycle | Check what a sync would change |

You can use both together. `sandbox: true, dry_run: true` previews what a sandbox sync would change without applying it.

## Seller implementation

When `sandbox: true`:

- **Do not** make real ad platform API calls (no Google Ad Manager orders, no DSP line items, etc.)
- **Do not** charge real money or create real billing records
- **Do** validate inputs the same way as production (reject invalid budgets, bad dates, etc.)
- **Do** return realistic response shapes with simulated data
- **Should** echo `sandbox: true` in success responses

Sandbox errors are real validation errors. If a buyer sends an invalid budget in sandbox mode, return a real error response - don't simulate fake errors.

## Protocol compliance

Sellers that declare `features.sandbox: true` in capabilities MUST:

- Accept `sandbox: true` on all task requests
- Return simulated responses without real side effects
- Apply normal input validation (sandbox doesn't bypass validation)

Sellers SHOULD echo `sandbox: true` in success responses.
